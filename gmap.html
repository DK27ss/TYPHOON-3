<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin="" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-draw/dist/leaflet.draw.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-draw/dist/leaflet.draw.js"></script>


    <style type="text/css">
        html {
            height: 100%
        }

        body {
            height: 100%;
            margin: 0;
            padding: 0
        }

        .plane-icon {
            padding: 0px;
            margin: 0px;
        }

        .blue-background {
            background-color: #212d38;
        }

        .styledButton {
            padding: 8px;
            background-color: #212d38;
            color: #fff;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            margin-top: 10px;
        }
        .crosshair-icon {
            margin-left: -10px; /* Ajuste la position pour centrer la croix */
            margin-top: -10px;
        }



        .crosshair {
            width: 20px;
            height: 20px;
            border: 2px solid #ff0000; /* Couleur de la croix (rouge ici) */
            box-sizing: border-box;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }
        .hello-button {
            position: fixed;
            padding: 5px;
            background-color: #212d38;
            color: #fff;
            cursor: pointer;
            border: none;
            border-radius: 2px;
            margin-right: 10px;
            margin-left: 5px; /* Ajuste la position pour centrer la croix */
            margin-top: 1px;
        /* Ajoutez d'autres styles selon vos pr√©f√©rences */
        }
        .cross {
            position: fixed;
            top: 50%;
            left: 40%;
            transform: translate(-50%, -50%);
            width: 2px;
            height: 20px;
            background-color: #212d38;
            z-index: 1000;
            
            &::before {
                content: '';
                position: absolute;
                width: 20px;
                height: 2px;
                background-color: #212d38;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }
        }

        #toggleCoordsButton {
            padding: 5px;
            background-color: #212d38;
            color: #fff;
            cursor: pointer;
            border: none;
            margin-top: 0px;
            margin-left: 50px;
            border-radius: 5px;
        }

        #map_canvas {
            height: 100%;
            background-color: #1a1a1a; /* Couleur de fond fonc√©e */
        }

        #info {
            position: absolute;
            width: 20%;
            height: 100%;
            bottom: 0px;
            right: 0px;
            top: 0px;
            background-color: #2c3e50; /* Couleur de fond fonc√©e */
            border-left: 1px #666 solid;
            font-family: Helvetica;
        }

        #info div {
            padding: 0px;
            padding-left: 10px;
            margin: 0px;
        }

        #info div h1 {
            margin-top: 10px;
            font-size: 16px;
            color: #ffffff; /* Couleur du texte claire */
        }

        #info div p {
            font-size: 14px;
            color: #ffffff; /* Couleur du texte claire */
        }

        #testContainer {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }

        #testText {
            margin-right: 7px;
            color: #ffffff; /* Couleur du texte claire */
        }

        #testButton,
        #testButton2 {
            padding: 5px;
            background-color: #3498db;
            color: #fff;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            margin-right: 10px; /* Ajout d'une marge √† droite de 10 pixels entre les boutons */
        }
        #superpose {
            padding: 5px;
            background-color: rgb(233, 233, 8);
            color: #000000;
            cursor: pointer;
            border: none;
            margin-right: 10px;
            border-radius: 5px;
        }
        #humview {
            padding: 5px;
            background-color: #3498db;
            color: #fff;
            cursor: pointer;
            border: none;
            margin-top: -69px;
            margin-left: -145px;
            border-radius: 5px;
        }
        #clearButton {
            padding: 5px;
            background-color: #212d38;
            color: #fff;
            cursor: pointer;
            border: none;
            margin-top: -69px;
            margin-left: 05px;
            border-radius: 5px;
        }
        #cycview {
            padding: 5px;
            background-color: #3498db;
            color: #fff;
            cursor: pointer;
            border: none;
            margin-top: -69px;
            margin-left: -150px;
            border-radius: 5px;
        }
        #activationStatus {
            padding: 5px;
            background-color: #212d38;
            margin-top: 1px;
            margin-left: 155px;
            font-weight: bold;
            font-size: 12px; /* Taille de police r√©duite */
        }
        
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js" integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew==" crossorigin=""></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-draw/dist/leaflet.draw.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-draw/dist/leaflet.draw.js"></script>
    <script type="text/javascript">
        var Map = null;
        var Planes = {};
        var NumPlanes = 0;
        var openStreetMapLayer, cyc_openStreetMapLayer, googleMapsLayer, cyc_transparentLayer, hum_transparentLayer, street_transparentLayer;
        var currentView = {
            lat: 37.0,
            lon: 13.0,
            zoom: 8
        };
        Selected = null;

        var activationStatus = false;

        function getIconForPlane(plane) {
            var r = 255, g = 255, b = 0;
            var maxalt = 40000; /* Max altitude in the average case */
            var invalt = maxalt-plane.altitude;
            var selected = (Selected == plane.hex);

            if (invalt < 0) invalt = 0;
            b = parseInt(255/maxalt*invalt);

            /* As Icon we use the plane emoji, this is a simple solution but
               is definitely a compromise: we expect the icon to be rotated
               45 degrees facing north-east by default, this is true in most
               systems but not all. */
            var he = document.createElement("P");
            he.innerHTML = '>';
            var rotation = 45+360-plane.track;
            var selhtml = '';

            /* Give a border to the selected plane. */
            if (Selected == plane.hex) {
                selhtml = 'border:1px dotted #0000aa; border-radius:10px;';
            } else {
                selhtml = '';
            }

            var infoHtml = `
                <div style="color: yellow; ${selhtml}">
                    <div style="margin-top: 5px;">
                    üõ©
                    <div style="margin-top: 5px;">
                        ${plane.flight.length ? `<div><b></b> <b>${plane.flight}</b></div>` : ''}
                        <div><b>ICAO:</b> ${plane.hex}</div>
                        <div><b>Lat: </b> ${plane.lat}</div>
                        <div><b>Lon: </b> ${plane.lon}</div>
                    </div>
                </div>`;

            var icon = L.divIcon({ html: infoHtml, className: 'plane-icon' });
            return icon;
        }

        function selectPlane(planehex) {
            if (!Planes[planehex]) return;
            var old = Selected;
            Selected = planehex;
            if (Planes[old]) {
                Planes[old].marker.setIcon(getIconForPlane(Planes[old]));
            }
            Planes[Selected].marker.setIcon(getIconForPlane(Planes[Selected]));
            refreshSelectedInfo();
        }

        function selectPlaneCallback(hex) {
            return function() {
                return selectPlane(hex);
            }
        }

        function refreshGeneralInfo() {
            var i = document.getElementById('geninfo');

            i.innerHTML = NumPlanes+' aircrafts on screen.';
        }

        function refreshSelectedInfo() {
            var i = document.getElementById('selinfo');
            var p = Planes[Selected];

            if (!p) return;
            var html = '<b>ICAO: </b>'+p.hex+'<br>';
            if (p.flight.length) {
                html += '<b>Code: </b>' + '<b>'+p.flight+'</b><br>';
            }
            html += '<b>Altitude: </b>'+p.altitude+' feet<br>';
            html += '<b>Speed: </b>'+p.speed+' knots<br>';
            html += '<b>Coordinates: </b>'+p.lat+', '+p.lon+'<br>';
            i.innerHTML = html;

            
    // Ajout des coordonn√©es √† la section des coordonn√©es
            var latitudeSpan = document.getElementById('latitude');
            var longitudeSpan = document.getElementById('longitude');
            latitudeSpan.innerText = p.lat;
            longitudeSpan.innerText = p.lon;

        }

        function fetchData() {
            $.getJSON('/data.json', function(data) {
                var stillhere = {}
                for (var j=0; j < data.length; j++) {
                    var plane = data[j];
                    var marker = null;
                    stillhere[plane.hex] = true;
                    plane.flight = $.trim(plane.flight);

                    if (Planes[plane.hex]) {
                        var myplane = Planes[plane.hex];
                        marker = myplane.marker;
                        marker.setLatLng([plane.lat,plane.lon]);
                        marker.setIcon(getIconForPlane(plane));
                        myplane.altitude = plane.altitude;
                        myplane.speed = plane.speed;
                        myplane.lat = plane.lat;
                        myplane.lon = plane.lon;
                        myplane.track = plane.track;
                        myplane.flight = plane.flight;
                        if (myplane.hex == Selected)
                            refreshSelectedInfo();
                    } else {
                        var icon = getIconForPlane(plane);
                        var marker = L.marker([plane.lat, plane.lon], {icon: icon}).addTo(Map);
                        var hex = plane.hex;
                        marker.on('click',selectPlaneCallback(plane.hex));
                        plane.marker = marker;
                        marker.planehex = plane.hex;
                        Planes[plane.hex] = plane;
                    }
                }
                NumPlanes = data.length;

                for (var p in Planes) {
                    if (!stillhere[p]) {
                        Map.removeLayer(Planes[p].marker);
                        delete Planes[p];
                    }
                }
            });
        }

        function updateMouseCoordinates(e) {
            var latitudeSpan = document.getElementById('latitude');
            var longitudeSpan = document.getElementById('longitude');
            latitudeSpan.innerText = e.latlng.lat.toFixed(6);
            longitudeSpan.innerText = e.latlng.lng.toFixed(6);
        }

        function toggleCoords() {
            var coordsInfo = document.getElementById('coordsInfo');
            coordsInfo.style.display = (coordsInfo.style.display === 'none' || coordsInfo.style.display === '') ? 'block' : 'none';

            // Ajout ou suppression du gestionnaire d'√©v√©nements en fonction de l'√©tat du bouton
            if (coordsInfo.style.display === 'block') {
                Map.on('mousemove', updateMouseCoordinates);
            } else {
                Map.off('mousemove', updateMouseCoordinates);
            }
        }

        function initialize() {

                // Ajouter le bouton "Hello"
            var helloButton = document.createElement('button');
            helloButton.id = 'helloButton';
            helloButton.innerText = 'OPT';
            helloButton.className = 'hello-button';
            helloButton.onclick = displayHello;

    // Ajouter le bouton au conteneur de boutons
            var testContainer = document.getElementById('testContainer');
            testContainer.appendChild(helloButton);
            
            Map = L.map('map_canvas').setView([currentView.lat, currentView.lon], currentView.zoom);

            window.setInterval(function () {
                fetchData();
                refreshGeneralInfo();
            }, 100);

            openStreetMapLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: 'TYPHOON ¬©Ô∏è SUPERPOSE T.'
            });

            cyc_openStreetMapLayer = L.tileLayer('https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png', {
                attribution: 'TYPHOON ¬©Ô∏è SUPERPOSE T.'
            });

            hum_openStreetMapLayer = L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
                attribution: 'TYPHOON ¬©Ô∏è SUPERPOSE T.'
            });

            googleMapsLayer = L.tileLayer('https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}', {
                maxZoom: 21,
                subdomains: ['mt0', 'mt1', 'mt2', 'mt3'],
                attribution: 'TYPHOON ¬©Ô∏è SUPERPOSE T.'
            });

            cyc_transparentLayer = L.tileLayer('https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png', {
                opacity: 1,
                attribution: 'TYPHOON ¬©Ô∏è SUPERPOSE T.'
            });

            hum_transparentLayer = L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
                opacity: 1,
                attribution: 'TYPHOON ¬©Ô∏è SUPERPOSE T.'
            });

            street_transparentLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                opacity: 0.5,
                attribution: 'TYPHOON ¬©Ô∏è SUPERPOSE T.'
            });

            var baseLayers = {
                "CYCLOSM INFOS MAP": cyc_openStreetMapLayer,
                "ADSBx INFOS MAP": openStreetMapLayer,
                "SATTELITE MAP": googleMapsLayer,
            };
            
            L.control.layers(baseLayers).addTo(Map);

            var cdg_airport_custom = L.divIcon({
                className: 'cdg_custom-marker',
                html: '<div class="icon-content">üóºLFPG</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var cdg_airport_custom_style = document.createElement('style');
            cdg_airport_custom_style.innerHTML = '.cdg_custom-marker .icon-content { background-color: #E82900; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(cdg_airport_custom_style);

            var cdg_airport = L.marker([49.0083899664, 2.53844117956], { icon: cdg_airport_custom }).addTo(Map);

            function fetchMETAR(icao, callback) {
            const apiUrl = `https://avwx.rest/api/metar/${icao}?token=yO5kWA3vRv9bw6ZtvlT8B_f2Q6sA-k2uxVyI33CV4ow`;
            fetch(apiUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`METAR RETRIEVAL ERROR ${response.statusText}`);
                    }
                    return response.json();
                })
                .then(data => {
                    callback(data);
                })
                .catch(error => {
                    console.error("Erreur :", error);
                    callback({ error: "UNABLE TO RETRIEVE METAR" });
                });
            }

            cdg_airport.bindPopup(
                '<br><strong>Charles de Gaulle AIRPORT (CDG)</strong></br><br>' +
                'IATA CODE: CDG<br>' +
                'ICAO CODE: LFPG<br>' +
                'CITY: Roissy-en-France, France<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 49.0083899664<br>' +
                'Longitude: 2.53844117956<br><br>'
            ).openPopup();

            cdg_airport.on('click', function () {
                fetchMETAR("CDG", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' + 
                    '<p><b>Charles de Gaulle AIRPORT (CDG)</b></p>' +
                    '<p><b>IATA CODE:</b> CDG</p>' +
                    '<p><b>ICAO CODE:</b> LFPG</p>' +
                    '<p><b>City:</b> Roissy-en-France, France</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 49.0083899664</p>' +
                    '<p><b>Longitude:</b> 2.53844117956</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/search/?icao=2770" target="_blank" ' +
                    'style="padding: 2px; background-color: #E0340F; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'NO LISTENING FOUND</a>' +
                    '</div>'; 

                updateSidebar(sidebarContent);
            });
        });

            var ory_airport_custom = L.divIcon({
                className: 'ory_custom-marker',
                html: '<div class="icon-content">üóºLFPO</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var ory_airport_custom_style = document.createElement('style');
            ory_airport_custom_style.innerHTML = '.ory_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(ory_airport_custom_style);

            var ory_airport = L.marker([48.7262433, 2.3652472], { icon: ory_airport_custom }).addTo(Map);
            ory_airport.bindPopup(
                '<br>Orly AIRPORT (ORY)</br><br>' +
                'IATA CODE: ORY<br>' +
                'ICAO CODE: LFPO<br>' +
                'CITY: Paris-Orly, France<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 48.7262433<br>' +
                'Longitude: 2.3652472<br><br>'
            ).openPopup();

            ory_airport.on('click', function () {
                fetchMETAR("ORY", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Orly AIRPORT (ORY)</b></p>' +
                    '<p><b>IATA CODE:</b> ORY</p>' +
                    '<p><b>ICAO CODE:</b> LFPO</p>' +
                    '<p><b>City:</b> Paris-Orly, France</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 48.7262433</p>' +
                    '<p><b>Longitude:</b> 2.3652472</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?icao=lfpo&mount=lfpo3_twr" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN LFPO TOWER</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?icao=lfpo&mount=lfpo_dep" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN LFPO DEPARTURE</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=lfpo3_app&icao=lfpo" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN LFPO APPROACH</a>'; 

                updateSidebar(sidebarContent);
            });
        });

            var fklk_airport_custom = L.divIcon({
                className: 'fklk_custom-marker',
                html: '<div class="icon-content">üóºFKLK</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var fklk_airport_custom_style = document.createElement('style');
            fklk_airport_custom_style.innerHTML = '.fklk_custom-marker .icon-content { background-color: #E82900; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(fklk_airport_custom_style);

            var fklk_airport = L.marker([41.501, 9.098], { icon: fklk_airport_custom }).addTo(Map);
            fklk_airport.bindPopup(
                '<br>Figari AIRPORT (FSC)</br><br>' +
                'IATA CODE: FSC<br>' +
                'ICAO CODE: FKLK<br>' +
                'CITY: Figari-Sud, Corse<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 41.501<br>' +
                'Longitude: 9.098<br><br>'
            ).openPopup();

            fklk_airport.on('click', function () {
                fetchMETAR("FKLK", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Figari AIRPORT (FSC)</b></p>' +
                    '<p><b>IATA CODE:</b> FSC</p>' +
                    '<p><b>ICAO CODE:</b> FKLK</p>' +
                    '<p><b>City:</b> Figari-Sud, Corse</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 41.501</p>' +
                    '<p><b>Longitude:</b> 9.098</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/search/?icao=2770" target="_blank" ' +
                    'style="padding: 2px; background-color: #E0340F; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'NO LISTENING FOUND</a>';

                updateSidebar(sidebarContent);
            });
        });


            var khua_airport_custom = L.divIcon({
                className: 'khua_custom-marker',
                html: '<div class="icon-content">üóºKHUA</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var khua_airport_custom_style = document.createElement('style');
            khua_airport_custom_style.innerHTML = '.khua_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(khua_airport_custom_style);

            var khua_airport = L.marker([34.67866, -86.68479], { icon: khua_airport_custom }).addTo(Map);
            khua_airport.bindPopup(
                '<br>Redstone Army Air Field (KHUA)</br><br>' +
                'IATA CODE: HUA<br>' +
                'ICAO CODE: KHUA<br>' +
                'CITY: Alabama, United States<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 34.67866<br>' +
                'Longitude: -86.68479<br><br>'
            ).openPopup();

            khua_airport.on('click', function () {
                fetchMETAR("KHUA", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Redstone Army Air Field (KHUA)</b></p>' +
                    '<p><b>IATA CODE:</b> HUA</p>' +
                    '<p><b>ICAO CODE:</b> KHUA</p>' +
                    '<p><b>City:</b> Alabama, United States</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 34.67866</p>' +
                    '<p><b>Longitude:</b> -86.68479</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ztl_hsv" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block;">' +
                    'üì° LISTEN KHUA TOWER</a>';

                updateSidebar(sidebarContent);
            });
        });


            var kins_airport_custom = L.divIcon({
                className: 'kins_custom-marker',
                html: '<div class="icon-content">üóºKINS</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kins_airport_custom_style = document.createElement('style');
            kins_airport_custom_style.innerHTML = '.kins_custom-marker .icon-content { background-color: #E82900; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kins_airport_custom_style);

            var kins_airport = L.marker([36.58634, -115.67737], { icon: kins_airport_custom }).addTo(Map);
            kins_airport.bindPopup(
                '<br>Creech Air Force Base (KINS)</br><br>' +
                'IATA CODE: INS<br>' +
                'ICAO CODE: KINS<br>' +
                'CITY: Nevada, United States<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 36.58634<br>' +
                'Longitude: -115.6773<br><br>'
            ).openPopup();

            kins_airport.on('click', function () {
                fetchMETAR("KINS", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Creech Air Force Base (KINS)</b></p>' +
                    '<p><b>IATA CODE:</b> INS</p>' +
                    '<p><b>ICAO CODE:</b> KINS</p>' +
                    '<p><b>City:</b> Nevada, United States</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 36.58634</p>' +
                    '<p><b>Longitude:</b> -115.6773</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/search/?icao=2770" target="_blank" ' +
                    'style="padding: 2px; background-color: #E0340F; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'NO LISTENING FOUND</a>';

                updateSidebar(sidebarContent);
            });
        });



        var kska_airport_custom = L.divIcon({
                className: 'kska_custom-marker',
                html: '<div class="icon-content">üóºKSKA</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kska_airport_custom_style = document.createElement('style');
            kska_airport_custom_style.innerHTML = '.kska_custom-marker .icon-content { background-color: #E82900; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kska_airport_custom_style);

            var kska_airport = L.marker([47.61506, -117.65581], { icon: kska_airport_custom }).addTo(Map);
            kska_airport.bindPopup(
                '<br>Fairchild Air Force Base (KSKA)</br><br>' +
                'IATA CODE: SKA<br>' +
                'ICAO CODE: KSKA<br>' +
                'CITY: Spokane, Washington<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 47.61506<br>' +
                'Longitude: -117.65581<br><br>'
            ).openPopup();

            kska_airport.on('click', function () {
                fetchMETAR("KSKA", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";

                var sidebarContent = `
                    <div class="blue-background">
                    <p><b>Fairchild Air Force Base (KSKA)</b></p>
                    <p><b>IATA CODE:</b> SKA</p>
                    <p><b>ICAO CODE:</b> KSKA</p>
                    <p><b>City:</b> Spokane, Washington</p>
                    <p><b>Airport Type:</b> Army</p>
                    <p><b>Latitude:</b> 47.61506</p>
                    <p><b>Longitude:</b> -117.65581</p>
                    <br>
                    <p>${metarText}</p>
                    <br>
                    <a href="https://www.liveatc.net/search/?icao=2770" target="_blank"
                    style="padding: 2px; background-color: #E0340F; color: #ffffff; 
                    text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">
                    NO LISTENING FOUND
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>120.350</b> Fairchild Tower</p>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });


        var kdra_airport_custom = L.divIcon({
                className: 'kdra_custom-marker',
                html: '<div class="icon-content">üóºKDRA</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kdra_airport_custom_style = document.createElement('style');
            kdra_airport_custom_style.innerHTML = '.kdra_custom-marker .icon-content { background-color: #E82900; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kdra_airport_custom_style);

            var kdra_airport = L.marker([36.6194, -116.03281], { icon: kdra_airport_custom }).addTo(Map);
            kdra_airport.bindPopup(
                '<br>Area 22 (KDRA)</br><br>' +
                'IATA CODE: DRA<br>' +
                'ICAO CODE: KDRA<br>' +
                'CITY: Spokane, Washington<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 36.6194<br>' +
                'Longitude: -116.03281<br><br>'
            ).openPopup();

            kdra_airport.on('click', function () {
                fetchMETAR("KDRA", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Area 22 (KDRA)</b></p>' +
                    '<p><b>IATA CODE:</b> DRA</p>' +
                    '<p><b>ICAO CODE:</b> KDRA</p>' +
                    '<p><b>City:</b> Spokane, Washington</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 36.6194</p>' +
                    '<p><b>Longitude:</b> -116.03281</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/search/?icao=2770" target="_blank" ' +
                    'style="padding: 2px; background-color: #E0340F; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'NO LISTENING FOUND</a>';

                updateSidebar(sidebarContent);
            });
        });


            var kbkf_airport_custom = L.divIcon({
                className: 'kbkf_custom-marker',
                html: '<div class="icon-content">üóºKBKF</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kbkf_airport_custom_style = document.createElement('style');
            kbkf_airport_custom_style.innerHTML = '.kbkf_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kbkf_airport_custom_style);

            var kbkf_airport = L.marker([39.70176, -104.75196], { icon: kbkf_airport_custom }).addTo(Map);
            kbkf_airport.bindPopup(
                '<br>Buckley Space Force Base (KBKF)</br><br>' +
                'IATA CODE: BFK<br>' +
                'ICAO CODE: KBKF<br>' +
                'CITY: Colorado, United States<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 39.70176<br>' +
                'Longitude: -104.75196<br><br>'
            ).openPopup();

            kbkf_airport.on('click', function () {
                fetchMETAR("KBKF", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Buckley Space Force Base (KBKF)</b></p>' +
                    '<p><b>IATA CODE:</b> BFK</p>' +
                    '<p><b>ICAO CODE:</b> KBKF</p>' +
                    '<p><b>City:</b> Colorado, United States</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 39.70176</p>' +
                    '<p><b>Longitude:</b> -104.75196</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kbkf1_twr&icao=kbkf" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KBKF TOWER (UHF)</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kbkf1_twr_vhf&icao=kbkf" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KBKF TOWER (VHF)</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kbkf1_twr_both&icao=kbkf" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KBKF TOWER (VHF/UHF)</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kbkf1_atis&icao=kbkf" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KBKF ATIS</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>---- KBKF ATIS</b></p>
                        <p><b>119.675</b> Buckley ATIS</p>
                        <br>
                        <p><b>---- KBKF TOWER (UHF)</b></p>
                        <p><b>291.675</b> Buckley Tower (UHF)</p>
                        <br>
                        <p><b>---- KBKF TOWER (VHF)</b></p>
                        <p><b>121.000</b> Buckley Tower (VHF)</p>
                        <br>
                        <p><b>---- KBKF TOWER (VHF/UHF)</b></p>
                        <p><b>121.000</b> Buckley Tower (VHF/UHF)</p>
                        <p><b>291.675</b> Buckley Tower (VHF/UHF)</p>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });



            var kngu_airport_custom = L.divIcon({
                className: 'kngu_custom-marker',
                html: '<div class="icon-content">üóºKNGU</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kngu_airport_custom_style = document.createElement('style');
            kngu_airport_custom_style.innerHTML = '.kngu_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kngu_airport_custom_style);

            var kngu_airport = L.marker([36.93747, -76.28928], { icon: kngu_airport_custom }).addTo(Map);
            kngu_airport.bindPopup(
                '<br>Norfolk Naval Station (Chambers Field) (KNGU)</br><br>' +
                'IATA CODE: NGU<br>' +
                'ICAO CODE: KNGU<br>' +
                'CITY: Virginia, United States<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 36.93747<br>' +
                'Longitude: -76.28928<br><br>'
            ).openPopup();

            kngu_airport.on('click', function () {
                fetchMETAR("KNGU", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Norfolk Naval Station (Chambers Field) (KNGU)</b></p>' +
                    '<p><b>IATA CODE:</b> NGU</p>' +
                    '<p><b>ICAO CODE:</b> KNGU</p>' +
                    '<p><b>City:</b> Virginia, United States</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 36.93747</p>' +
                    '<p><b>Longitude:</b> -76.28928</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kngu1" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KNGU DEL/GND/TWR</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>130.650</b> AMC/ATOC</p>
                        <p><b>349.500</b> AMC/ATOC</P>
                        <p><b>120.700</b> Chambers Clearance Delivery</p>
                        <p><b>339.800</b> Chambers Clearance Delivery</p>
                        <p><b>121.800</b> Chambers Ground</p>
                        <p><b>370.850</b> Chambers Ground</p>
                        <p><b>298.950</b> Chambers Ground (Helicopters)</p>
                        <p><b>126.375</b> Chambers Tower</p>
                        <p><b>257.975</b> Chambers Tower</p>
                        <p><b>279.600</b> Chambers Tower (Helicopters)</p>
                        <p><b>322.525</b> GCA</p>
                        <p><b>335.800</b> GCA</p>
                        <p><b>271.600</b> Metro</p>
                        <p><b>335.625</b> Norfolk Approach/Departure</p>
                        <p><b>363.125</b> Norfolk Departure</p>
                        <p><b>322.525</b> Radar</p>
                        <p><b>335.800</b> Radar</p>
                        <p><b>279.525</b> Radar (GCA)</p>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });




            var cyyr_airport_custom = L.divIcon({
                className: 'cyyr_custom-marker',
                html: '<div class="icon-content">üóºCYYR</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var cyyr_airport_custom_style = document.createElement('style');
            cyyr_airport_custom_style.innerHTML = '.cyyr_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(cyyr_airport_custom_style);

            var cyyr_airport = L.marker([53.3191986, -60.4258003], { icon: cyyr_airport_custom }).addTo(Map);
            cyyr_airport.bindPopup(
                '<br>Goose Bay Airport/CFB Goose Bay (CYYR)</br><br>' +
                'IATA CODE: YYR<br>' +
                'ICAO CODE: CYYR<br>' +
                'CITY: Goose Bay, Newfoundland<br>' +
                'AIRPORT TYPE: Regional<br><br>' +
                'Latitude: 53.3191986<br>' +
                'Longitude: -60.4258003<br><br>'
            ).openPopup();

            cyyr_airport.on('click', function () {
                fetchMETAR("CYYR", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Goose Bay Airport/CFB Goose Bay (CYYR)</b></p>' +
                    '<p><b>IATA CODE:</b> YYR</p>' +
                    '<p><b>ICAO CODE:</b> CYYR</p>' +
                    '<p><b>City:</b> Goose Bay, Newfoundland</p>' +
                    '<p><b>Airport Type:</b> Regional</p>' +
                    '<p><b>Latitude:</b> 53.3191986</p>' +
                    '<p><b>Longitude:</b> -60.4258003</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=cyyr_local&icao=cyyr" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN CYYR DEL/GND/TWR/APP #1</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=cyyr2&icao=cyyr" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN CYYR DEL/GND/TWR/APP #2</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=cyyr_s&icao=cyyr" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN CYYR DEL/GND/TWR/APP CENTER</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=cyyr_center&icao=cyyr" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN CYYR GANDER CENTER</a>';

                updateSidebar(sidebarContent);
            });
        });



            var ehgr_airport_custom = L.divIcon({
                className: 'ehgr_custom-marker',
                html: '<div class="icon-content">üóºEHGR</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var ehgr_airport_custom_style = document.createElement('style');
            ehgr_airport_custom_style.innerHTML = '.ehgr_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(ehgr_airport_custom_style);

            var ehgr_airport = L.marker([51.5674019, 4.9318299], { icon: ehgr_airport_custom }).addTo(Map);
            ehgr_airport.bindPopup(
                '<br>Gilze-Rijen Air Base (EHGR)</br><br>' +
                'IATA CODE: GLZ<br>' +
                'ICAO CODE: EHGR<br>' +
                'CITY: Breda, Netherlands<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 51.5674019<br>' +
                'Longitude: 4.9318299<br><br>'
            ).openPopup();

            ehgr_airport.on('click', function () {
                fetchMETAR("EHGR", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Gilze-Rijen Air Base (EHGR)</b></p>' +
                    '<p><b>IATA CODE:</b> GLZ</p>' +
                    '<p><b>ICAO CODE:</b> EHGR</p>' +
                    '<p><b>City:</b> Breda, Netherlands</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 51.5674019</p>' +
                    '<p><b>Longitude:</b> 4.9318299</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ehgr4_gliders&icao=ehgr" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN EHGR AREA GLIDERS</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?icao=2707" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN EHGR GND/TWR/APP/MIL</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ehgr4_twr&icao=ehgr" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN EHGR TOWER</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>---- EHGR AREA GILDERS</b></p>
                        <p><b>125.380</b> EHGR Area Gliders</p>
                        <br>
                        <p><b>---- EHGR GND/TWR/APP/MIL</b></p>
                        <p><b>123.580</b> Arrival</p>
                        <p><b>132.350</b> Dutch Mil Radar</p>
                        <p><b>123.330</b> Gilze Rijen Ground</p>
                        <p><b>125.330</b> Gilze Rijen Tower</p>
                        <br>
                        <p><b>---- EHGR TOWER</b></p>
                        <p><b>125.330</b> Gilze Rijen Tower</p>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });


            var b18_airport_custom = L.divIcon({
                className: 'b18_custom-marker',
                html: '<div class="icon-content">üóºB18</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var b18_airport_custom_style = document.createElement('style');
            b18_airport_custom_style.innerHTML = '.b18_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(b18_airport_custom_style);

            var b18_airport = L.marker([43.4776001, -71.2369995], { icon: b18_airport_custom }).addTo(Map);
            b18_airport.bindPopup(
                '<br>Alton Bay Seaplane Base (B18)</br><br>' +
                'IATA CODE: B18<br>' +
                'ICAO CODE: B18<br>' +
                'CITY: Alton Bay, United States<br>' +
                'AIRPORT TYPE: Regional<br><br>' +
                'Latitude: 43.4776001<br>' +
                'Longitude: -71.2369995<br><br>'
            ).openPopup();

            b18_airport.on('click', function () {
                fetchMETAR("B18", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Alton Bay Seaplane Base (B18)</b></p>' +
                    '<p><b>IATA CODE:</b> B18</p>' +
                    '<p><b>ICAO CODE:</b> B18</p>' +
                    '<p><b>City:</b> Alton Bay, United States</p>' +
                    '<p><b>Airport Type:</b> Regional</p>' +
                    '<p><b>Latitude:</b> 43.4776001</p>' +
                    '<p><b>Longitude:</b> -71.2369995</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=klci_122800&icao=b18" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN B18/LAKE AREA CTAF</a>' +
                    '<br>' +
                    '<p><b>122.800</b> NH Area CTAF (Lakes Region)</a>';

                updateSidebar(sidebarContent);
            });
        });


            var kmcf_airport_custom = L.divIcon({
                className: 'kmcf_custom-marker',
                html: '<div class="icon-content">üóºKMCF</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kmcf_airport_custom_style = document.createElement('style');
            kmcf_airport_custom_style.innerHTML = '.kmcf_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kmcf_airport_custom_style);

            var kmcf_airport = L.marker([27.8494444, -82.5211111], { icon: kmcf_airport_custom }).addTo(Map);
            kmcf_airport.bindPopup(
                '<br>MacDill Air Force Base (KMCF)</br><br>' +
                'IATA CODE: MCF<br>' +
                'ICAO CODE: KMCF<br>' +
                'CITY: Tampa, Florida<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 27.8494444<br>' +
                'Longitude: -82.5211111<br><br>'
            ).openPopup();

            kmcf_airport.on('click', function () {
                fetchMETAR("KMCF", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>MacDill Air Force Base (KMCF)</b></p>' +
                    '<p><b>IATA CODE:</b> MCF</p>' +
                    '<p><b>ICAO CODE:</b> KMCF</p>' +
                    '<p><b>City:</b> Tampa, Florida</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 27.8494444</p>' +
                    '<p><b>Longitude:</b> -82.5211111</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ktpa5_kmcf_twr&icao=kmcf" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KMCF TOWER</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>120.175</b> MacDill Tower</p>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });



            var kmhv_airport_custom = L.divIcon({
                className: 'kmhv_custom-marker',
                html: '<div class="icon-content">üóºKMHV</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kmhv_airport_custom_style = document.createElement('style');
            kmhv_airport_custom_style.innerHTML = '.kmhv_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kmhv_airport_custom_style);

            var kmhv_airport = L.marker([35.0586111, -118.1505556], { icon: kmhv_airport_custom }).addTo(Map);
            kmhv_airport.bindPopup(
                '<br>Mojave Air and Space Port (KMHV)</br><br>' +
                'IATA CODE: MHV<br>' +
                'ICAO CODE: KMHV<br>' +
                'CITY: Mojave, California<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 35.0586111<br>' +
                'Longitude: -118.1505556<br><br>'
            ).openPopup();

            kmhv_airport.on('click', function () {
                fetchMETAR("KMHV", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Mojave Air and Space Port (KMHV)</b></p>' +
                    '<p><b>IATA CODE:</b> MHV</p>' +
                    '<p><b>ICAO CODE:</b> KMHV</p>' +
                    '<p><b>City:</b> Mojave, California</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 35.0586111</p>' +
                    '<p><b>Longitude:</b> -118.1505556</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kmhv2&icao=kmhv" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KMHV GND/TWR/APP/1CL2</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>122.900</b> 1CL2 Ancient Valley CTAF</p>
                        <p><b>133.650</b> Joshua Approach/Departure (MHV/VHF)</p>
                        <p><b>123.900</b> Mojave Ground</p>
                        <p><b>127.600</b> Mojave Tower/CTAF</p>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });


            var kcfo_airport_custom = L.divIcon({
                className: 'kcfo_custom-marker',
                html: '<div class="icon-content">üóºKCFO</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kcfo_airport_custom_style = document.createElement('style');
            kcfo_airport_custom_style.innerHTML = '.kcfo_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kcfo_airport_custom_style);

            var kcfo_airport = L.marker([39.7841944, -104.5376389], { icon: kcfo_airport_custom }).addTo(Map);
            kcfo_airport.bindPopup(
                '<br>Mojave Air and Space Port (KCFO)</br><br>' +
                'IATA CODE: CFO<br>' +
                'ICAO CODE: KCFO<br>' +
                'CITY: Denver, Colorado<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 39.7841944<br>' +
                'Longitude: -104.5376389<br><br>'
            ).openPopup();

            kcfo_airport.on('click', function () {
                fetchMETAR("KCFO", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Mojave Air and Space Port (KCFO)</b></p>' +
                    '<p><b>IATA CODE:</b> CFO</p>' +
                    '<p><b>ICAO CODE:</b> KCFO</p>' +
                    '<p><b>City:</b> Denver, Colorado</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 39.7841944</p>' +
                    '<p><b>Longitude:</b> -104.5376389</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kden1_8&icao=kcfo" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KCFO/KEIK/KBDU/KLMO/Misc</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>122.750</b> Air-to-Air Fixed Wing</p>
                        <p><b>123.450</b> Air-to-Air Informal</p>
                        <p><b>122.725</b> Boulder CTAF</p>
                        <p><b>123.000</b> Erie CTAF</p>
                        <p><b>120.200</b> Front Range Tower</p>
                        <p><b>121.000</b> KBKF Tower</p>
                        <p><b>122.975</b> Longmont CTAF</p>
                        <p><b>122.900</b> MULTICOM</p>
                        <p><b>122.950</b> UNICOM</p>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });


            var kvbg_airport_custom = L.divIcon({
                className: 'kvbg_custom-marker',
                html: '<div class="icon-content">üóºKVBG</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kvbg_airport_custom_style = document.createElement('style');
            kvbg_airport_custom_style.innerHTML = '.kvbg_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kvbg_airport_custom_style);

            var kvbg_airport = L.marker([34.73734, -120.58431], { icon: kvbg_airport_custom }).addTo(Map);
            kvbg_airport.bindPopup(
                '<br>Vandenberg Space Force Base (KVBG)</br><br>' +
                'IATA CODE: VBG<br>' +
                'ICAO CODE: KVBG<br>' +
                'CITY: Vandenberg, California<br>' +
                'AIRPORT TYPE: Space<br><br>' +
                'Latitude: 34.73734<br>' +
                'Longitude: -120.58431<br><br>'
            ).openPopup();

            kvbg_airport.on('click', function () {
            fetchMETAR("KVBG", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Vandenberg Space Force Base (KVBG)</b></p>' +
                    '<p><b>IATA CODE:</b> VBG</p>' +
                    '<p><b>ICAO CODE:</b> KVBG</p>' +
                    '<p><b>City:</b> Vandenberg, California</p>' +
                    '<p><b>Airport Type:</b> Space</p>' +
                    '<p><b>Latitude:</b> 34.73734</p>' +
                    '<p><b>Longitude:</b> -120.58431</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/search/?icao=2770" target="_blank" ' +
                    'style="padding: 2px; background-color: #E0340F; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'NO LISTENING FOUND</a>';

                updateSidebar(sidebarContent);
            });
        });



            var koff_airport_custom = L.divIcon({
                className: 'koff_custom-marker',
                html: '<div class="icon-content">üóºKOFF</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var koff_airport_custom_style = document.createElement('style');
            koff_airport_custom_style.innerHTML = '.koff_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(koff_airport_custom_style);

            var koff_airport = L.marker([41.11933, -95.90851], { icon: koff_airport_custom }).addTo(Map);
            
            koff_airport.bindPopup(
                '<br>Offutt Air Force Base (KOFF)</br><br>' +
                'IATA CODE: OFF<br>' +
                'ICAO CODE: KOFF<br>' +
                'CITY: Omaha, Nebraska<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 41.11933<br>' +
                'Longitude: -95.90851<br><br>'
            ).openPopup();

            koff_airport.on('click', function () {
                fetchMETAR("KOFF", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Offutt Air Force Base (KOFF)</b></p>' +
                    '<p><b>IATA CODE:</b> OFF</p>' +
                    '<p><b>ICAO CODE:</b> KOFF</p>' +
                    '<p><b>City:</b> Omaha, Nebraska</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 41.11933</p>' +
                    '<p><b>Longitude:</b> -95.90851</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=koff3_twr_app&icao=koff" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KOFF TOWER/APPROACH</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>123.700</b> Offutt AFB Tower</p>
                        <p><b>124.500</b> Omaha Approach/Departure (East)</p>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });
            

            var ksuu_airport_custom = L.divIcon({
                className: 'ksuu_custom-marker',
                html: '<div class="icon-content">üóºKSUU</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var ksuu_airport_custom_style = document.createElement('style');
            ksuu_airport_custom_style.innerHTML = '.ksuu_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(ksuu_airport_custom_style);

            var ksuu_airport = L.marker([38.26454, -121.92413], { icon: ksuu_airport_custom }).addTo(Map);
            
            ksuu_airport.bindPopup(
                '<br>Travis Air Force Base (KSUU)</br><br>' +
                'IATA CODE: SUU<br>' +
                'ICAO CODE: KSUU<br>' +
                'CITY: California, United States<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 38.26454<br>' +
                'Longitude: -121.92413<br><br>'
            ).openPopup();

            ksuu_airport.on('click', function () {
                fetchMETAR("KSUU", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Travis Air Force Base (KSUU)</b></p>' +
                    '<p><b>IATA CODE:</b> SUU</p>' +
                    '<p><b>ICAO CODE:</b> KSUU</p>' +
                    '<p><b>City:</b> California, United States</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 38.26454</p>' +
                    '<p><b>Longitude:</b> -121.92413</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ksuu&icao=ksuu" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KSUU DEL/GND/TWR/APP/MISC</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ksuu_l&icao=ksuu" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KSUU DEL/GND/TWR/APP-SOUTH</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ksuu_r&icao=ksuu" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KSUU APP-NORTH/MISC</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>---- KSUU APP-NORTH/MISC</b></p>
                        <p>--</p>
                        <br>
                        <p><b>---- KSUU DEL/GND/TWR/APP-SOUTH</b></p>
                        <p>--</p>
                        <br>
                        <p><b>---- KSUU DEL/GND/TWR/APP/MISC</b></p>
                        <p><b>153.0275</b> CALSTAR Medical</p>
                        <p><b>141.900</b> Command Post</p>
                        <p><b>349.400</b> Command Post</p>
                        <p><b>269.200</b> Metro</p>
                        <p><b>132.125</b> Sacramento Metro (Air to Air)</p>
                        <p><b>139.900</b> Travis Approach</p>
                        <p><b>291.000</b> Travis Approach</p>
                        <p><b>306.900</b> Travis Approach</p>
                        <p><b>398.200</b> Travis Approach</p>
                        <p><b>126.600</b> Travis Approach (North)</p>
                        <p><b>128.400</b> Travis Approach (North)</p>
                        <p><b>281.450</b> Travis Approach (North)</p>
                        <p><b>119.900</b> Travis Approach (South)</p>
                        <p><b>322.325</b> Travis Approach (South)</p>
                        <p><b>127.550</b> Travis Clearance Delivery</p>
                        <p><b>335.800</b> Travis Clearance Delivery</p>
                        <p><b>121.800</b> Travis Ground</p>
                        <p><b>289.400</b> Travis Ground</p>
                        <p><b>120.750</b> Travis Tower</p>
                        <p><b>239.050</b> Travis Tower</p>
                        <p><b>254.400</b> Travis Tower</p>
                        <p><b>155.340</b> UC Davis Med Center</p>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });



            var kdov_airport_custom = L.divIcon({
                className: 'kdov_custom-marker',
                html: '<div class="icon-content">üóºKDOV</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kdov_airport_custom_style = document.createElement('style');
            kdov_airport_custom_style.innerHTML = '.kdov_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kdov_airport_custom_style);

            var kdov_airport = L.marker([39.12954, -75.46596], { icon: kdov_airport_custom }).addTo(Map);
            kdov_airport.bindPopup(
                '<br>Dover Air Force Base (KDOV)</br><br>' +
                'IATA CODE: DOV<br>' +
                'ICAO CODE: KDOV<br>' +
                'CITY: Delaware, United States<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 39.12954<br>' +
                'Longitude: -75.46596<br><br>'
            ).openPopup();

            kdov_airport.on('click', function () {
                fetchMETAR("KDOV", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Dover Air Force Base (KDOV)</b></p>' +
                    '<p><b>IATA CODE:</b> DOV</p>' +
                    '<p><b>ICAO CODE:</b> KDOV</p>' +
                    '<p><b>City:</b> Delaware, United States</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 39.12954</p>' +
                    '<p><b>Longitude:</b> -75.46596</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kdov2_atis&icao=kdov" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KDOV ATIS</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kdov_del_gnd_twr&icao=kdov" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KDOV DEL/GND/TWR/APP</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kdov2_gnd_app&icao=kdov" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KDOV GND/APP</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kdov2_twr&icao=kdov" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KDOV TOWER</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kdov_zdc&icao=kdov" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KDOV ZDC19/53 KENTON/WOODSTOWN</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>---- KDOV ATIS</b></p>
                        <p><b>127.825</b> Dover ATIS</p>
                        <br>
                        <p><b>---- KDOV DEL/GND/TWR/APP</b></p>
                        <p><b>132.425</b> Dover Approach/Departure</p>
                        <p><b>132.425</b> Dover Approach/Departure</p>
                        <p><b>118.050</b> Dover Clearance Delivery</p>
                        <p><b>125.550</b> Dover Clearance Delivery</p>
                        <p><b>118.875</b> Dover Ground</p>
                        <p><b>126.350</b> Dover Tower</p>
                        <br>
                        <p><b>---- KDOV GND/APP</b></p>
                        <p><b>132.425</b> Dover Approach/Departure</p>
                        <p><b>118.875</b> Dover Ground</p>
                        <br>
                        <p><b>---- KDOV TOWER</b></p>
                        <p><b>126.350</b> Dover Tower</p>
                        <br>
                        <p><b>---- ZDC19/53 KENTON/WOODSTOWN</b></p>
                        <p><b>125.450</b> Washington Center (ZDC19 Woodstown Sector)</p>
                        <p><b>132.050</b> Washington Center (ZDC53 Kenton Sector)</p>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });

            var klfi_airport_custom = L.divIcon({
                className: 'klfi_custom-marker',
                html: '<div class="icon-content">üóºKLFI</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var klfi_airport_custom_style = document.createElement('style');
            klfi_airport_custom_style.innerHTML = '.klfi_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(klfi_airport_custom_style);

            var klfi_airport = L.marker([37.08289, -76.36054], { icon: klfi_airport_custom }).addTo(Map);
            klfi_airport.bindPopup(
                '<br>Langley Air Force Base (KLFI)</br><br>' +
                'IATA CODE: LFI<br>' +
                'ICAO CODE: KLFI<br>' +
                'CITY: Hampton, Virginia<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 37.08289<br>' +
                'Longitude: -76.36054<br><br>'
            ).openPopup();

            klfi_airport.on('click', function () {
                fetchMETAR("KLFI", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Langley Air Force Base (KLFI)</b></p>' +
                    '<p><b>IATA CODE:</b> LFI</p>' +
                    '<p><b>ICAO CODE:</b> KLFI</p>' +
                    '<p><b>City:</b> Hampton, Virginia</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 37.08289</p>' +
                    '<p><b>Longitude:</b> -76.36054</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=klfi&icao=klfi" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KLFI DEL/GND/TWR</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>257.625</b> Langley Clearance Delivery</p>
                        <p><b>275.800</b> Langley Ground</p>
                        <p><b>236.600</b> Langley Tower</p>
                        <p><b>253.500</b> Langley Tower</p>
                        <p><b>125.700</b> Norfolk Approach (Peninsula Sector))</p>
                        <p><b>119.450</b> Norfolk Approach (West Feeder)</p>
                        <p><b>124.900</b> Norfolk Departure (Peninsula)</p>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });

            var kdma_airport_custom = L.divIcon({
                className: 'kdma_custom-marker',
                html: '<div class="icon-content">üóºKDMA</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kdma_airport_custom_style = document.createElement('style');
            kdma_airport_custom_style.innerHTML = '.kdma_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kdma_airport_custom_style);

            var kdma_airport = L.marker([32.16636, -110.88317], { icon: kdma_airport_custom }).addTo(Map);
            kdma_airport.bindPopup(
                '<br>Davis Monthan Air Force Base (KDMA)</br><br>' +
                'IATA CODE: DMA<br>' +
                'ICAO CODE: KDMA<br>' +
                'CITY: Tucson, Arizona<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 32.16636<br>' +
                'Longitude: -110.88317<br><br>'
            ).openPopup();

            kdma_airport.on('click', function () {
                fetchMETAR("KDMA", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Davis Monthan Air Force Base (KDMA)</b></p>' +
                    '<p><b>IATA CODE:</b> DMA</p>' +
                    '<p><b>ICAO CODE:</b> KDMA</p>' +
                    '<p><b>City:</b> Tucson, Arizona</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 32.16636</p>' +
                    '<p><b>Longitude:</b> -110.88317</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ktus&icao=kdma" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KDMA/KTUS TWR/OPS/ZAB</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/play/2707" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KTUS DEL/GND/TWR/APP/KDMA [DOWN]</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>---- KDMA/KTUS TWR/OPS/ZAB</b></p>
                        <p><b>139.725</b> 357FS Ops</p>
                        <p><b>138.500</b> 358FS Ops</p>
                        <p><b>327.150</b> Albuquerque Center (Sector 47 Silver City/Low/UHF)</p>
                        <p><b>281.500</b> Albuquerque Center (Sector 90 San Simon/High/UHF)</p>
                        <p><b>364.200</b> AWACS</p>
                        <p><b>234.800</b> BigFoot</p>
                        <p><b>271.000</b> BigFoot</p>
                        <p><b>253.500</b> Davis-Monthan AFB</p>
                        <p><b>392.200</b> Tucson 162FW SOS IOPS</p>
                        <p><b>257.800</b> Tucson Tower (UHF)</p>
                        <br>
                        <p><b>---- KTUS DEL/GND/TWR/APP/KDMA</b></p>
                        <p><b>118.850</b> KDMA Tower</p>
                        <p><b>124.000</b> Tucson Approach (alt)</p>
                        <p><b>125.100</b> Tucson Approach (East/South)</p>
                        <p><b>269.550</b> Tucson Approach (Mil)</p>
                        <p><b>119.400</b> Tucson Approach (North)</p>
                        <p><b>125.900</b> Tucson Approach (Practice Areas)</p>
                        <p><b>126.650</b> Tucson Clearance Delivery</p>
                        <p><b>120.025</b> Tucson Ground</p>
                        <p><b>118.300</b> Tucson Tower</p>
                        <p><b>119.000</b> Tucson Tower (alt)</p>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });

            var kadw_airport_custom = L.divIcon({
                className: 'kadw_custom-marker',
                html: '<div class="icon-content">üóºKADW</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kadw_airport_custom_style = document.createElement('style');
            kadw_airport_custom_style.innerHTML = '.kadw_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kadw_airport_custom_style);

            var kadw_airport = L.marker([38.81083, -76.86705], { icon: kadw_airport_custom }).addTo(Map);
            kadw_airport.bindPopup(
                '<br>Joint Base Andrews (KADW)</br><br>' +
                'IATA CODE: ADW<br>' +
                'ICAO CODE: KADW<br>' +
                'CITY: Maryland, United States<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 38.81083<br>' +
                'Longitude: -76.86705<br><br>'
            ).openPopup();

            kadw_airport.on('click', function () {
                fetchMETAR("KADW", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Joint Base Andrews (KADW)</b></p>' +
                    '<p><b>IATA CODE:</b> ADW</p>' +
                    '<p><b>ICAO CODE:</b> KADW</p>' +
                    '<p><b>City:</b> Maryland, United States</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 38.81083</p>' +
                    '<p><b>Longitude:</b> -76.86705</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kdaa2_twr&icao=kadw" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KADW KDAA/KADW TOWER</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>118.400</b> Andrews Tower</p>
                        <p><b>349.000</b> Andrews Tower</p>
                        <p><b>126.300</b> Davison Tower</p>
                        <p><b>229.400</b> Davison Tower</p>
                        <p><b>241.000</b> Davison Tower</p>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });



            var kdaa_airport_custom = L.divIcon({
                className: 'kdaa_custom-marker',
                html: '<div class="icon-content">üóºKDAA</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kdaa_airport_custom_style = document.createElement('style');
            kdaa_airport_custom_style.innerHTML = '.kdaa_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kdaa_airport_custom_style);

            var kdaa_airport = L.marker([37.5, -78.75], { icon: kdaa_airport_custom }).addTo(Map);
            kdaa_airport.bindPopup(
                '<br>Davison Army Airfield (KDAA)</br><br>' +
                'IATA CODE: DAA<br>' +
                'ICAO CODE: KDAA<br>' +
                'CITY: Fort Belvoir, Virginia<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 37.5<br>' +
                'Longitude: -78.75<br><br>'
            ).openPopup();

            kdaa_airport.on('click', function () {
                fetchMETAR("KDAA", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Davison Army Airfield (KDAA)</b></p>' +
                    '<p><b>IATA CODE:</b> DAA</p>' +
                    '<p><b>ICAO CODE:</b> KDAA</p>' +
                    '<p><b>City:</b> Fort Belvoir, Virginia</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 37.5</p>' +
                    '<p><b>Longitude:</b> -78.75</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kdaa2_twr&icao=kdaa" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KDAA/KADW TOWER</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>118.400</b> Andrews Tower</p>
                        <p><b>349.000</b> Andrews Tower</p>
                        <p><b>126.300</b> Davison Tower</p>
                        <p><b>229.400</b> Davison Tower</p>
                        <p><b>241.000</b> Davison Tower</p>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });



        ///////////////////////////////////////////////////////////////////////////////////////
        ///////////////////////////////////////////////////////////////////////////////////////



            var kxmr_airport_custom = L.divIcon({
                className: 'kxmr_custom-marker',
                html: '<div class="icon-content">üóºKXMR</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kxmr_airport_custom_style = document.createElement('style');
            kxmr_airport_custom_style.innerHTML = '.kxmr_custom-marker .icon-content { background-color: #E82900; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kxmr_airport_custom_style);

            var kxmr_airport = L.marker([28.467, -80.567], { icon: kxmr_airport_custom }).addTo(Map);
            kxmr_airport.bindPopup(
                '<br>Cape Canaveral Air Force Station Skid Strip (KXMR)</br><br>' +
                'IATA CODE: XMR<br>' +
                'ICAO CODE: KXMR<br>' +
                'CITY: Cocoa Beach, Florida<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 28.467<br>' +
                'Longitude: -80.567<br><br>'
            ).openPopup();

            kxmr_airport.on('click', function () {
                fetchMETAR("KXMR", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Cape Canaveral Air Force Station Skid Strip (KXMR)</b></p>' +
                    '<p><b>IATA CODE:</b> XMR</p>' +
                    '<p><b>ICAO CODE:</b> KXMR</p>' +
                    '<p><b>City:</b> Cocoa Beach, Florida</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 28.467</p>' +
                    '<p><b>Longitude:</b> -80.567</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/search/?icao=2770" target="_blank" ' +
                    'style="padding: 2px; background-color: #E0340F; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'NO LISTENING FOUND</a>';
                updateSidebar(sidebarContent);
            });
        });




        var rohf_airport_custom = L.divIcon({
                className: 'rohf_custom-marker',
                html: '<div class="icon-content">üóºROHF</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var rohf_airport_custom_style = document.createElement('style');
            rohf_airport_custom_style.innerHTML = '.rohf_custom-marker .icon-content { background-color: #E82900; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(rohf_airport_custom_style);

            var rohf_airport = L.marker([26.300, 127.767], { icon: rohf_airport_custom }).addTo(Map);
            rohf_airport.bindPopup(
                '<br>U. S. Army Airfield (ROHF)</br><br>' +
                'IATA CODE: OHF<br>' +
                'ICAO CODE: ROHF<br>' +
                'CITY: Hamby, Japan<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 26.300<br>' +
                'Longitude: 127.767<br><br>'
            ).openPopup();

            rohf_airport.on('click', function () {
                fetchMETAR("ROHF", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>U. S. Army Airfield (ROHF)</b></p>' +
                    '<p><b>IATA CODE:</b> OHF</p>' +
                    '<p><b>ICAO CODE:</b> ROHF</p>' +
                    '<p><b>City:</b> Hamby, Japan</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 26.300</p>' +
                    '<p><b>Longitude:</b> 127.767</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/search/?icao=2770" target="_blank" ' +
                    'style="padding: 2px; background-color: #E0340F; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'NO LISTENING FOUND</a>';
                updateSidebar(sidebarContent);
            });
        });






        var pwak_airport_custom = L.divIcon({
                className: 'pwak_custom-marker',
                html: '<div class="icon-content">üóºPWAK</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var pwak_airport_custom_style = document.createElement('style');
            pwak_airport_custom_style.innerHTML = '.pwak_custom-marker .icon-content { background-color: #E82900; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(pwak_airport_custom_style);

            var pwak_airport = L.marker([19.283, 166.650], { icon: pwak_airport_custom }).addTo(Map);
            pwak_airport.bindPopup(
                '<br>Wake Island Army Airfield Airport (PWAK)</br><br>' +
                'IATA CODE: WAK<br>' +
                'ICAO CODE: PWAK<br>' +
                'CITY: Wake Island, United States<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 19.283<br>' +
                'Longitude: 166.650<br><br>'
            ).openPopup();

            pwak_airport.on('click', function () {
                fetchMETAR("PWAK", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Wake Island Army Airfield Airport (PWAK)</b></p>' +
                    '<p><b>IATA CODE:</b> WAK</p>' +
                    '<p><b>ICAO CODE:</b> PWAK</p>' +
                    '<p><b>City:</b> Wake Island, United States</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 19.283</p>' +
                    '<p><b>Longitude:</b> 166.650</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/search/?icao=2770" target="_blank" ' +
                    'style="padding: 2px; background-color: #E0340F; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'NO LISTENING FOUND</a>';
                updateSidebar(sidebarContent);
            });
        });




        var rcdc_airport_custom = L.divIcon({
                className: 'rcdc_custom-marker',
                html: '<div class="icon-content">üóºRCDC</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var rcdc_airport_custom_style = document.createElement('style');
            rcdc_airport_custom_style.innerHTML = '.rcdc_custom-marker .icon-content { background-color: #E82900; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(rcdc_airport_custom_style);

            var rcdc_airport = L.marker([22.683, 120.467], { icon: rcdc_airport_custom }).addTo(Map);
            rcdc_airport.bindPopup(
                '<br>South Air Force Base (RCDC)</br><br>' +
                'IATA CODE: CDC<br>' +
                'ICAO CODE: RCDC<br>' +
                'CITY: Pingtung, Taiwan<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 22.683<br>' +
                'Longitude: 120.467<br><br>'
            ).openPopup();

            rcdc_airport.on('click', function () {
                fetchMETAR("RCDC", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>South Air Force Base (RCDC)</b></p>' +
                    '<p><b>IATA CODE:</b> CDC</p>' +
                    '<p><b>ICAO CODE:</b> RCDC</p>' +
                    '<p><b>City:</b> Pingtung, Taiwan</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 22.683</p>' +
                    '<p><b>Longitude:</b> 120.467</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/search/?icao=2770" target="_blank" ' +
                    'style="padding: 2px; background-color: #E0340F; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'NO LISTENING FOUND</a>';
                updateSidebar(sidebarContent);
            });
        });




        var liri_airport_custom = L.divIcon({
                className: 'liri_custom-marker',
                html: '<div class="icon-content">üóºLIRI</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var liri_airport_custom_style = document.createElement('style');
            liri_airport_custom_style.innerHTML = '.liri_custom-marker .icon-content { background-color: #E82900; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(liri_airport_custom_style);

            var liri_airport = L.marker([40.617, 14.917], { icon: liri_airport_custom }).addTo(Map);
            liri_airport.bindPopup(
                '<br>Pontecagnano Air Force Base (LIRI)</br><br>' +
                'IATA CODE: IRI<br>' +
                'ICAO CODE: LIRI<br>' +
                'CITY: Pontecagnano, Italy<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 40.617<br>' +
                'Longitude: 14.917<br><br>'
            ).openPopup();

            liri_airport.on('click', function () {
                fetchMETAR("LIRI", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Pontecagnano Air Force Base (LIRI)</b></p>' +
                    '<p><b>IATA CODE:</b> IRI</p>' +
                    '<p><b>ICAO CODE:</b> LIRI</p>' +
                    '<p><b>City:</b> Pontecagnano, Italy</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 40.617</p>' +
                    '<p><b>Longitude:</b> 14.917</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/search/?icao=2770" target="_blank" ' +
                    'style="padding: 2px; background-color: #E0340F; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'NO LISTENING FOUND</a>';
                updateSidebar(sidebarContent);
            });
        });



        var leza_airport_custom = L.divIcon({
                className: 'leza_custom-marker',
                html: '<div class="icon-content">üóºLEZA</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var leza_airport_custom_style = document.createElement('style');
            leza_airport_custom_style.innerHTML = '.leza_custom-marker .icon-content { background-color: #E82900; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(leza_airport_custom_style);

            var leza_airport = L.marker([41.667, -1.050], { icon: leza_airport_custom }).addTo(Map);
            leza_airport.bindPopup(
                '<br>United States Air Force Operated Base In Foreign Country (LEZA)</br><br>' +
                'IATA CODE: EZA<br>' +
                'ICAO CODE: LEZA<br>' +
                'CITY: Pontecagnano, Italy<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 41.667<br>' +
                'Longitude: -1.050<br><br>'
            ).openPopup();

            leza_airport.on('click', function () {
                fetchMETAR("LEZA", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>United States Air Force Operated Base In Foreign Country (LEZA)</b></p>' +
                    '<p><b>IATA CODE:</b> EZA</p>' +
                    '<p><b>ICAO CODE:</b> LEZA</p>' +
                    '<p><b>City:</b> Pontecagnano, Italy</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 41.667</p>' +
                    '<p><b>Longitude:</b> -1.050</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/search/?icao=2770" target="_blank" ' +
                    'style="padding: 2px; background-color: #E0340F; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'NO LISTENING FOUND</a>';
                updateSidebar(sidebarContent);
            });
        });




        var kbig_airport_custom = L.divIcon({
                className: 'kbig_custom-marker',
                html: '<div class="icon-content">üóºKBIG</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kbig_airport_custom_style = document.createElement('style');
            kbig_airport_custom_style.innerHTML = '.kbig_custom-marker .icon-content { background-color: #E82900; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kbig_airport_custom_style);

            var kbig_airport = L.marker([63.994, -145.692], { icon: kbig_airport_custom }).addTo(Map);
            kbig_airport.bindPopup(
                '<br>Delta Junction / Ft. Greely, Allen Army Air Field (LEZA)</br><br>' +
                'IATA CODE: BIG<br>' +
                'ICAO CODE: KBIG<br>' +
                'CITY: Delta Junction, Alaska<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 63.994<br>' +
                'Longitude: -145.692<br><br>'
            ).openPopup();

            kbig_airport.on('click', function () {
                fetchMETAR("KBIG", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Delta Junction / Ft. Greely, Allen Army Air Field (LEZA)</b></p>' +
                    '<p><b>IATA CODE:</b> BIG</p>' +
                    '<p><b>ICAO CODE:</b> KBIG</p>' +
                    '<p><b>City:</b> Delta Junction, Alaska</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 63.994</p>' +
                    '<p><b>Longitude:</b> -145.692</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/search/?icao=2770" target="_blank" ' +
                    'style="padding: 2px; background-color: #E0340F; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'NO LISTENING FOUND</a>';
                updateSidebar(sidebarContent);
            });
        });



        ///////////////////////////////////////////////////////////////////////////////////////
        ///////////////////////////////////////////////////////////////////////////////////////

            var kwri_airport_custom = L.divIcon({
                className: 'kwri_custom-marker',
                html: '<div class="icon-content">üóºKWRI</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kwri_airport_custom_style = document.createElement('style');

            kwri_airport_custom_style.innerHTML = '.kwri_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kwri_airport_custom_style);

            var kwri_airport = L.marker([40.01558, -74.5917], { icon: kwri_airport_custom }).addTo(Map);
            kwri_airport.bindPopup(
                '<br>McGuire Field (Air Force Base) (KWRI)</br><br>' +
                'IATA CODE: WRI<br>' +
                'ICAO CODE: KWRI<br>' +
                'CITY: Maryland, United States<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 40.01558<br>' +
                'Longitude: -74.5917<br><br>'
            ).openPopup();

            kwri_airport.on('click', function () {
                fetchMETAR("KWRI", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>McGuire Field (Air Force Base) (KWRI)</b></p>' +
                    '<p><b>IATA CODE:</b> WRI</p>' +
                    '<p><b>ICAO CODE:</b> KWRI</p>' +
                    '<p><b>City:</b> Maryland, United States</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 40.01558</p>' +
                    '<p><b>Longitude:</b> -74.5917</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kblm1&icao=kwri" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KWRI KNEL/KWRI/ZNY</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>121.500</b> Emergency/Guard</p>
                        <p><b>118.375</b> Lakehurst Ground</p>
                        <p><b>307.050</b> Lakehurst Ground</p>
                        <p><b>127.775</b> Lakehurst Tower</p>
                        <p><b>340.200</b> Lakehurst Tower</p>
                        <p><b>360.200</b> Lakehurst Tower</p>
                        <p><b>124.150</b> McGuire Approach</p>
                        <p><b>126.475</b> McGuire Approach</p>
                        <p><b>120.250</b> McGuire Arrival</p>
                        <p><b>118.650</b> McGuire Tower</p>
                        <p><b>255.600</b> McGuire Tower</p>
                        <p><b>257.800</b> McGuire Tower</p>
                        <p><b>255.700</b> NEL Army Ops</p>
                        <p><b>251.200</b> WRI 108 ANG Command Post</p>
                        <p><b>321.000</b> WRI 108 ANG Command Post</p>
                        <p><b>139.300</b> WRI Army Ops</p>
                        <p><b>265.600</b> WRI Army Ops</p>
                        <p><b>41.350</b> WRI Army Ops</p>
                        <p><b>319.400</b> WRI Army Ops Command Post</p>
                        <p><b>349.400</b> WRI Army Ops Command Post (backup)</p>
                        <p><b>134.100</b> WRI Pilot to Dispatch</p>
                        <p><b>372.200</b> WRI Pilot to Dispatch</p>
                        <p><b>283.000</b> WRI USMC HMH 772 Ops</p>
                        <p><b>264.200</b> WRI USMC HMLA 773 Ops</p>
                    </div>
                </div>`;

                updateSidebar(sidebarContent);
            });
        });

            var kmtc_airport_custom = L.divIcon({
                className: 'kmtc_custom-marker',
                html: '<div class="icon-content">üóºKMTC</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kmtc_airport_custom_style = document.createElement('style');
            kmtc_airport_custom_style.innerHTML = '.kmtc_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kmtc_airport_custom_style);

            var kmtc_airport = L.marker([42.61389, -82.83691], { icon: kmtc_airport_custom }).addTo(Map);
            kmtc_airport.bindPopup(
                '<br>Selfridge Air National Guard Field Base (KMTC)</br><br>' +
                'IATA CODE: MTC<br>' +
                'ICAO CODE: KMTC<br>' +
                'CITY: Michigan, United States<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 42.61389<br>' +
                'Longitude: -82.83691<br><br>'
            ).openPopup();

            kmtc_airport.on('click', function () {
                fetchMETAR("KMTC", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Selfridge Air National Guard Field Base (KMTC)</b></p>' +
                    '<p><b>IATA CODE:</b> MTC</p>' +
                    '<p><b>ICAO CODE:</b> KMTC</p>' +
                    '<p><b>City:</b> Michigan, United States</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 42.61389</p>' +
                    '<p><b>Longitude:</b> -82.83691</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kmtc1_atis&icao=kmtc" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KMTC ATIS</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kmtc1_gnd_twr&icao=kmtc" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KMTC GROUND/TOWER</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kmtc1_app&icao=kmtc" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KMTC APPROACH/DEPARTURE</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=zob_alg1_gambshi&icao=kmtc" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KMTC ZOB SECTOR 19 GAMBLE HI</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=zob_alg1_dresdlo&icao=kmtc" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KMTC ZOB SECTOR 20 DRESDEN LOW</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=zob_alg1_lakehi&icao=kmtc" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KMTC ZOB SECTOR 26 LAKE HI</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=zob_alg1_hudhi&icao=kmtc" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KMTC ZOB SECTOR 27 HUDSON HI</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>---- KMTC APP/DEP</b></p>
                        <p><b>119.600</b> Selfridge Approach</p>
                        <br>
                        <p><b>---- KMTC ATIS</b></p>
                        <p><b>125.325</b> Selfridge ATIS</p>
                        <br>
                        <p><b>---- KMTC GROUND/TOWER</b></p>
                        <p><b>128.300</b> Selfridge Ground</p>
                        <p><b>120.150</b> Selfridge Tower</p>
                        <br>
                        <p><b>---- ZOB SECTOR 19 GAMBLE Hi</b></p>
                        <p><b>126.525</b> Cleveland Center (Sector 19 Gamble Super High)</p>
                        <br>
                        <p><b>---- ZOB SECTOR 20 DRESDEN Low</b></p>
                        <p><b>132.250</b> Cleveland Center (Sector 20 Dresden Low)</p>
                        <br>
                        <p><b>---- ZOB SECTOR 26 LAKE Hi</b></p>
                        <p><b>120.075</b> Cleveland Center (Sector 26 Lake High)</p>
                        <br>
                        <p><b>---- ZOB SECTOR 27 Hudson Hi</b></p>
                        <p><b>134.775</b> Cleveland Center (Sector 27 Hudson High)</p>
                        <br>
                    </div>
                </div>`;

                updateSidebar(sidebarContent);
            });
        });

            var kntu_airport_custom = L.divIcon({
                className: 'kntu_custom-marker',
                html: '<div class="icon-content">üóºKNTU</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kntu_airport_custom_style = document.createElement('style');
            kntu_airport_custom_style.innerHTML = '.kntu_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kntu_airport_custom_style);

            var kntu_airport = L.marker([36.82275, -76.03189], { icon: kntu_airport_custom }).addTo(Map);
            kntu_airport.bindPopup(
                '<br>Oceana Naval Air Station (Apollo Soucek Field) (KNTU)</br><br>' +
                'IATA CODE: NTU<br>' +
                'ICAO CODE: KNTU<br>' +
                'CITY: Virginia, United States<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 36.82275<br>' +
                'Longitude: -76.03189<br><br>'
            ).openPopup();

            kntu_airport.on('click', function () {
                fetchMETAR("KNTU", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Oceana Naval Air Station (Apollo Soucek Field) (KNTU)</b></p>' +
                    '<p><b>IATA CODE:</b> NTU</p>' +
                    '<p><b>ICAO CODE:</b> KNTU</p>' +
                    '<p><b>City:</b> Virginia, United States</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 36.82275</p>' +
                    '<p><b>Longitude:</b> -76.03189</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=korf_gk&icao=kntu" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KNTU GIANT KILLER</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kntu3_uhf&icao=kntu" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KNTU GND/TWR/APP</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kntu1&icao=kntu" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KNTU GND/TWR/APP/RADAR</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>---- KNTU GIANT KILLER</b></p>
                        <p><b>118.125</b> Giant Killer</p>
                        <p><b>125.375</b> Giant Killer</p>
                        <p><b>127.650</b> Giant Killer</p>
                        <p><b>233.700</b> Giant Killer</p>
                        <p><b>238.100</b> Giant Killer</p>
                        <p><b>271.500</b> Giant Killer</p>
                        <p><b>350.000</b> Giant Killer</p>
                        <p><b>255.000</b> Giant Killer W-107</p>
                        <br>
                        <p><b>---- KNTU GND/TWR/APP</b></p>
                        <p><b>289.400</b> BASE OPS</p>
                        <p><b>118.900</b> Oceana Approach</p>
                        <p><b>123.900</b> Oceana Approach</p>
                        <p><b>266.800</b> Oceana Approach</p>
                        <p><b>353.700</b> Oceana Approach</p>
                        <p><b>254.400</b> Oceana Clearance Delivery</p>
                        <p><b>323.050</b> Oceana GCA</p>
                        <p><b>119.600</b> Oceana Ground</p>
                        <p><b>336.400</b> Oceana Ground</p>
                        <p><b>127.075</b> Oceana Tower</p>
                        <p><b>340.200</b> Oceana Tower</p>
                        <p><b>360.200</b> Oceana Tower</p>
                        <p><b>328.400</b> SFA</p>
                        <p><b>346.400</b> SFA</p>
                        <br>
                        <p><b>---- KNTU GNT/TWR/APP/RADAR</b></p>
                        <p><b>289.400</b> BASE OPS</p>
                        <p><b>121.500</b> Emergency/Guard</p>
                        <p><b>243.000</b> Emergency/Guard</p>
                        <p><b>123.900</b> Oceana Approach</p>
                        <p><b>266.800</b> Oceana Approach</p>
                        <p><b>254.400</b> Oceana Clearance Delivery</p>
                        <p><b>119.600</b> Oceana Departure</p>
                        <p><b>288.300</b> Oceana Departure</p>
                        <p><b>336.400</b> Oceana Ground</p>
                        <p><b>387.400</b> Oceana Metro</p>
                        <p><b>134.100</b> Oceana Radar</p>
                        <p><b>310.800</b> Oceana Radar</p>
                        <p><b>322.000</b> Oceana Radar</p>
                        <p><b>325.200</b> Oceana Radar</p>
                        <p><b>346.000</b> Oceana Radar</p>
                        <p><b>363.600</b> Oceana Radar</p>
                        <p><b>127.075</b> Oceana Tower</p>
                        <p><b>360.200</b> Oceana Tower</p>
                        <p><b>287.400</b> PMSV Metro</p>
                        <p><b>328.400</b> SFA</p>
                        <p><b>346.400</b> SFA</p>
                        <p><b>348.750</b> SFA</p>
                        <p><b>352.100</b> SFA</p>
                        <p><b>363.100</b> SFA</p>
                        <br>
                    </div>
                </div>`;

                updateSidebar(sidebarContent);
            });
        });



//////////////////////////////////////////////////////////////////////////////////////// NEW 09/01/25

            var rkso_airport_custom = L.divIcon({
                className: 'rkso_custom-marker',
                html: '<div class="icon-content">üóºRKSO</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var rkso_airport_custom_style = document.createElement('style');
            rkso_airport_custom_style.innerHTML = '.rkso_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(rkso_airport_custom_style);

            var rkso_airport = L.marker([37.0905991, 127.0299], { icon: rkso_airport_custom }).addTo(Map);
            rkso_airport.bindPopup(
                '<br>Air Force 1 Arrival - Osan Air Base (RKSO)</br><br>' +
                'IATA CODE: OSN<br>' +
                'ICAO CODE: RKSO<br>' +
                'CITY: Pyeongtaek, Korea<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 37.0905991<br>' +
                'Longitude: 127.0299<br><br>'
            ).openPopup();

            rkso_airport.on('click', function () {
                fetchMETAR("RKSO", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Air Force 1 Arrival - Osan Air Base (RKSO)</b></p>' +
                    '<p><b>IATA CODE:</b> OSN</p>' +
                    '<p><b>ICAO CODE:</b> RKSO</p>' +
                    '<p><b>City:</b> Pyeongtaek, Korea</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 37.0905991</p>' +
                    '<p><b>Longitude:</b> 127.0299</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=rkso" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN RKSO GND/TWR/APP</a>';

                updateSidebar(sidebarContent);
            });
        });



            var paed_airport_custom = L.divIcon({
                className: 'paed_custom-marker',
                html: '<div class="icon-content">üóºPAED</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var paed_airport_custom_style = document.createElement('style');
            paed_airport_custom_style.innerHTML = '.paed_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(paed_airport_custom_style);

            var paed_airport = L.marker([61.2509995, -149.8070068], { icon: paed_airport_custom }).addTo(Map);
            paed_airport.bindPopup(
                '<br>Elmendorf Air Force Base (PAED)</br><br>' +
                'IATA CODE: EDF<br>' +
                'ICAO CODE: PAED<br>' +
                'CITY: Anchorage, Alaska<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 61.2509995<br>' +
                'Longitude: -149.8070068<br><br>'
            ).openPopup();

            paed_airport.on('click', function () {
                fetchMETAR("PAED", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Elmendorf Air Force Base (PAED)</b></p>' +
                    '<p><b>IATA CODE:</b> EDF</p>' +
                    '<p><b>ICAO CODE:</b> PAED</p>' +
                    '<p><b>City:</b> Anchorage, Alaska</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 61.2509995</p>' +
                    '<p><b>Longitude:</b> -149.8070068</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=pamr2_paed_twr&icao=paed" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN PAED TWR</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>---- PAED TOWER</b></p>
                        <p><b>127.200</b> Elmendorf Tower</p>
                        <br>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });





            var kbos_airport_custom = L.divIcon({
                className: 'kbos_custom-marker',
                html: '<div class="icon-content">üóºKBOS</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kbos_airport_custom_style = document.createElement('style');
            kbos_airport_custom_style.innerHTML = '.kbos_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kbos_airport_custom_style);

            var kbos_airport = L.marker([42.36646, -71.020176], { icon: kbos_airport_custom }).addTo(Map);
            kbos_airport.bindPopup(
                '<br>General Edward Lawrence Logan International Airport (KBOS)</br><br>' +
                'IATA CODE: BOS<br>' +
                'ICAO CODE: KBOS<br>' +
                'CITY: Boston, Massachusetts<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 42.36646<br>' +
                'Longitude: -71.020176<br><br>'
            ).openPopup();

            kbos_airport.on('click', function () {
                fetchMETAR("KBOS", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>General Edward Lawrence Logan International Airport (KBOS)</b></p>' +
                    '<p><b>IATA CODE:</b> BOS</p>' +
                    '<p><b>ICAO CODE:</b> KBOS</p>' +
                    '<p><b>City:</b> Boston, Massachusetts</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 42.36646</p>' +
                    '<p><b>Longitude:</b> -71.020176</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kgfl1_zbw_121350_128325&icao=kbos" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN ZBW BOSTON CENTER (ALB22/CAM39)</a>';

                updateSidebar(sidebarContent);
            });
        });


            var kriv_airport_custom = L.divIcon({
                className: 'kriv_custom-marker',
                html: '<div class="icon-content">üóºKRIV</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kriv_airport_custom_style = document.createElement('style');
            kriv_airport_custom_style.innerHTML = '.kriv_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kriv_airport_custom_style);

            var kriv_airport = L.marker([33.888479, -117.258414], { icon: kriv_airport_custom }).addTo(Map);
            kriv_airport.bindPopup(
                '<br>March Air Reserve Base (KRIV)</br><br>' +
                'IATA CODE: RIV<br>' +
                'ICAO CODE: KRIV<br>' +
                'CITY: Riverside, California<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 33.888479<br>' +
                'Longitude: -117.258414<br><br>'
            ).openPopup();

            kriv_airport.on('click', function () {
                fetchMETAR("KRIV", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>March Air Reserve Base (KRIV)</b></p>' +
                    '<p><b>IATA CODE:</b> RIV</p>' +
                    '<p><b>ICAO CODE:</b> KRIV</p>' +
                    '<p><b>City:</b> Riverside, California</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 33.888479</p>' +
                    '<p><b>Longitude:</b> -117.258414</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kral2&icao=kriv" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KRAL-KRIV GND/TWR/APP</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>---- KRAL/KRIV GND/TWR/APP</b></p>
                        <p><b>119.250</b> March Approach/Departure</p>
                        <p><b>133.500</b> March Approach/Departure</p>
                        <p><b>121.700</b> Riverside Ground</p>
                        <p><b>121.000</b> Riverside Tower</p>
                        <p><b>122.950</b> Riverside UNICOM</p>
                        <br>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });




            var knkt_airport_custom = L.divIcon({
                className: 'knkt_custom-marker',
                html: '<div class="icon-content">üóºKNKT</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var knkt_airport_custom_style = document.createElement('style');
            knkt_airport_custom_style.innerHTML = '.knkt_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(knkt_airport_custom_style);

            var knkt_airport = L.marker([34.903999, -76.881463], { icon: knkt_airport_custom }).addTo(Map);
            knkt_airport.bindPopup(
                '<br>Cherry Point Marine Corps Air Station (Cunningham Field) (KNKT)</br><br>' +
                'IATA CODE: NKT<br>' +
                'ICAO CODE: KNKT<br>' +
                'CITY: Cherry Point, North Carolina<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 34.903999<br>' +
                'Longitude: -76.881463<br><br>'
            ).openPopup();

            knkt_airport.on('click', function () {
                fetchMETAR("KNKT", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Cherry Point Marine Corps Air Station (Cunningham Field) (KNKT)</b></p>' +
                    '<p><b>IATA CODE:</b> NKT</p>' +
                    '<p><b>ICAO CODE:</b> KNKT</p>' +
                    '<p><b>City:</b> Cherry Point, North Carolina</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 34.903999</p>' +
                    '<p><b>Longitude:</b> -76.881463</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=knkt1_ar&icao=knkt" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN AERIAL REFUELING OPS</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=knkt1_sc&icao=knkt" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN GIANT KILLER/MISC</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=knkt1_app&icao=knkt" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KNKT TWR/APP/DEP</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>---- AERIAL REFUELING OPS</b></p>
                        <p><b>251.175</b> Burner A/R Track</p>
                        <p><b>266.100</b> Burner A/R Track</p>
                        <p><b>266.400</b> Burner A/R Track</p>
                        <p><b>340.025</b> Burner A/R Track</p>
                        <p><b>348.100</b> Burner A/R Track</p>
                        <p><b>246.800</b> Tankers Air-to-Air</p>
                        <br>
                        <p><b>---- KNKT GIANT KILLER/MISC</b></p>
                        <p><b>282.800</b> A/A A/G Military SAR</p>
                        <p><b>244.800</b> Big Rock Control</p>
                        <p><b>233.750</b> Bull Run Control</p>
                        <p><b>126.200</b> Cherry Point Base Ops</p>
                        <p><b>305.700</b> Cherry Point Base Ops</p>
                        <p><b>337.225</b> Cherry Point MOA</p>
                        <p><b>343.500</b> Cherry Point WX Metro</p>
                        <p><b>121.500</b> Emergency/Guard</p>
                        <p><b>243.000</b> Emergency/Guard (UHF)</p>
                        <p><b>251.600</b> Giant Killer (Primary UHF, Control Areas W110/W122)</p>
                        <p><b>135.875</b> Giant Killer (Primary VHF, Control Areas W110/W122)</p>
                        <p><b>310.100</b> Giant Killer (Secondary UHF, Control Areas W110/W122)</p>
                        <p><b>251.300</b> Giant Killer Aux</p>
                        <p><b>348.100</b> OTIS A/R A/A OPERATIONS</p>
                        <p><b>236.250</b> Otis KC-130 Base Ops</p>
                        <p><b>345.000</b> SAR A/A A/G USCG</p>
                        <p><b>261.225</b> TACTICAL BASE OPS (AV-8s/F-18s/F35sF15s TAC A/C)</p>
                        <p><b>371.400</b> TACTICAL BASE OPS (AV-8s/F-18s/F35sF15s TAC A/C)</p>
                        <p><b>305.900</b> USMC A/A NKT LOCAL AIR COMMON</p>
                        <p><b>364.350</b> W-122 Area</p>
                        <br>
                        <p><b>---- KNKT TWR/APP/DEP</b></p>
                        <p><b>119.350</b> Cherry Point Approach/Departure</p>
                        <p><b>119.750</b> Cherry Point Approach/Departure</p>
                        <p><b>124.725</b> Cherry Point Approach/Departure</p>
                        <p><b>132.575</b> Cherry Point Approach/Departure</p>
                        <p><b>268.700</b> Cherry Point Approach/Departure</p>
                        <p><b>278.800</b> Cherry Point Approach/Departure</p>
                        <p><b>299.600</b> Cherry Point Approach/Departure</p>
                        <p><b>360.775</b> Cherry Point Approach/Departure</p>
                        <p><b>377.175</b> Cherry Point Approach/Departure</p>
                        <p><b>121.300</b> Cherry Point Tower</p>
                        <p><b>340.200</b> Cherry Point Tower (UHF Primary)</p>
                        <br>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });




            var knpa_airport_custom = L.divIcon({
                className: 'knpa_custom-marker',
                html: '<div class="icon-content">üóºKNPA</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var knpa_airport_custom_style = document.createElement('style');
            knpa_airport_custom_style.innerHTML = '.knpa_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(knpa_airport_custom_style);

            var knpa_airport = L.marker([30.353596, -87.314051], { icon: knpa_airport_custom }).addTo(Map);
            knpa_airport.bindPopup(
                '<br>Pensacola Naval Air Station (Forrest Sherman Field) (KNPA)</br><br>' +
                'IATA CODE: NPA<br>' +
                'ICAO CODE: KNPA<br>' +
                'CITY: Pensacola, Florida<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 30.353596<br>' +
                'Longitude: -87.314051<br><br>'
            ).openPopup();

            knpa_airport.on('click', function () {
                fetchMETAR("KNPA", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>March Air Reserve Base (KNPA)</b></p>' +
                    '<p><b>IATA CODE:</b> NPA</p>' +
                    '<p><b>ICAO CODE:</b> KNPA</p>' +
                    '<p><b>City:</b> Pensacola, Florida</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 30.353596</p>' +
                    '<p><b>Longitude:</b> -87.314051</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kpns1_app_120650&icao=knpa" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KNPS APP/DEP 120.65</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>---- KNPS APP/DEP</b></p>
                        <p><b>120.650</b> Pensacola Approach/Departure</p>
                        <br>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });




            var knel_airport_custom = L.divIcon({
                className: 'knel_custom-marker',
                html: '<div class="icon-content">üóºKNEL</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var knel_airport_custom_style = document.createElement('style');




            knel_airport_custom_style.innerHTML = '.knel_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; } .scrollable-content { max-height: 200px; overflow-y: auto; padding: 10px; background-color: #000000; color: #000000; border-radius: 5px; } .scrollable-content p { margin: 5px 0; font-size: 5px; } a { padding: 2px; background-color: #5B9F22; color: #000000; text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px; }';

            document.head.appendChild(knel_airport_custom_style);

            var knel_airport = L.marker([40.016667, -74.316667], { icon: knel_airport_custom }).addTo(Map);
            knel_airport.bindPopup(
                '<br>Lakehurst Maxfield Field Joint Base McGuire (KNEL)</br><br>' +
                'IATA CODE: NEL<br>' +
                'ICAO CODE: KNEL<br>' +
                'CITY: Lakehurst, New Jersey<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 40.016667<br>' +
                'Longitude: -74.316667<br><br>'
            ).openPopup();

            knel_airport.on('click', function () {
                fetchMETAR("KNEL", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent = `
                    '<div class="blue-background">
                        <p><b>Lakehurst Maxfield Field Joint Base McGuire (KNEL)</b></p>
                        <p><b>IATA CODE:</b> NEL</p>
                        <p><b>ICAO CODE:</b> KNEL</p>
                        <p><b>City:</b> Lakehurst, New Jersey</p>
                        <p><b>Airport Type:</b> Army</p>
                        <p><b>Latitude:</b> 40.016667</p>
                        <p><b>Longitude:</b> -74.316667</p>
                        <br>
                        <p>${metarText}</p>
                        <br>
                        <a href="https://www.liveatc.net/hlisten.php?mount=kblm1&icao=knel" target="_blank" 
                        style="padding: 2px; background-color: #5B9F22; color: #ffffff; 
                        text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">
                        üì° LISTEN KNEL/KWRI/ZNY
                        </a>
                        <br><br>
                        <div class="scrollable-content">
                            <p><b>121.500</b> Emergency/Guard</p>
                            <p><b>118.375</b> Lakehurst Ground</p>
                            <p><b>307.050</b> Lakehurst Ground</p>
                            <p><b>127.775</b> Lakehurst Tower</p>
                            <p><b>340.200</b> Lakehurst Tower</p>
                            <p><b>360.200</b> Lakehurst Tower</p>
                            <p><b>124.150</b> McGuire Approach</p>
                            <p><b>126.475</b> McGuire Approach</p>
                            <p><b>120.250</b> McGuire Arrival</p>
                            <p><b>118.650</b> McGuire Tower</p>
                            <p><b>255.600</b> McGuire Tower</p>
                            <p><b>257.800</b> McGuire Tower</p>
                            <p><b>255.700</b> NEL Army Ops</p>
                            <p><b>251.200</b> WRI 108 ANG Command Post</p>
                            <p><b>321.000</b> WRI 108 ANG Command Post</p>
                            <p><b>139.300</b> WRI Army Ops</p>
                            <p><b>265.600</b> WRI Army Ops</p>
                            <p><b>41.350</b> WRI Army Ops</p>
                            <p><b>319.400</b> WRI Army Ops Command Post</p>
                            <p><b>349.400</b> WRI Army Ops Command Post (backup)</p>
                            <p><b>134.100</b> WRI Pilot to Dispatch</p>
                            <p><b>372.200</b> WRI Pilot to Dispatch</p>
                            <p><b>283.000</b> WRI USMC HMH 772 Ops</p>
                            <p><b>264.200</b> WRI USMC HMLA 773 Ops</p>
                        </div>
                    </div>`;
                updateSidebar(sidebarContent);
            });
        });

            var kfhu_airport_custom = L.divIcon({
                className: 'kfhu_custom-marker',
                html: '<div class="icon-content">üóºKFHU</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kfhu_airport_custom_style = document.createElement('style');
            kfhu_airport_custom_style.innerHTML = '.kfhu_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kfhu_airport_custom_style);

            var kfhu_airport = L.marker([31.588889, -110.343056], { icon: kfhu_airport_custom }).addTo(Map);
            kfhu_airport.bindPopup(
                '<br>Sierra Vista Municipal Airport-Libby Army Airfield (KFHU)</br><br>' +
                'IATA CODE: FHU<br>' +
                'ICAO CODE: KFHU<br>' +
                'CITY: Fort Huachuca/Sierra Vista, Arizona<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 31.588889<br>' +
                'Longitude: -110.343056<br><br>'
            ).openPopup();

            kfhu_airport.on('click', function () {
                fetchMETAR("KFHU", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Sierra Vista Municipal Airport-Libby Army Airfield (KFHU)</b></p>' +
                    '<p><b>IATA CODE:</b> FHU</p>' +
                    '<p><b>ICAO CODE:</b> KFHU</p>' +
                    '<p><b>City:</b> Fort Huachuca/Sierra Vista, Arizona</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 31.588889</p>' +
                    '<p><b>Longitude:</b> -110.343056</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kfhu&icao=kfhu" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KFHU GND/TWR/RADAR</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>---- KFHU GND/TWR/RADAR</b></p>
                        <p><b>127.050</b> Libby AAF GCA Radar</p>
                        <p><b>254.350</b> Libby AAF GCA Radar</p>
                        <p><b>121.700</b> Libby Ground</p>
                        <p><b>268.700</b> Libby Ground</p>
                        <p><b>124.950</b> Libby Tower</p>
                        <p><b>284.750</b> Libby Tower</p>
                        <br>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });
////////////////////////////////////////////////////////////////////////////////////////





            var kchs_airport_custom = L.divIcon({
                className: 'kchs_custom-marker',
                html: '<div class="icon-content">üóºKCHS</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kchs_airport_custom_style = document.createElement('style');
            kchs_airport_custom_style.innerHTML = '.kchs_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kchs_airport_custom_style);

            var kchs_airport = L.marker([32.89864, -80.04053], { icon: kchs_airport_custom }).addTo(Map);
            kchs_airport.bindPopup(
                '<br>Charleston Air Force Base/International (KCHS)</br><br>' +
                'IATA CODE: CHS<br>' +
                'ICAO CODE: KCHS<br>' +
                'CITY: South Carolina, United States<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 32.89864<br>' +
                'Longitude: -80.04053<br><br>'
            ).openPopup();

            kchs_airport.on('click', function () {
                fetchMETAR("KCHS", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Charleston Air Force Base/International (KCHS)</b></p>' +
                    '<p><b>IATA CODE:</b> CHS</p>' +
                    '<p><b>ICAO CODE:</b> KCHS</p>' +
                    '<p><b>City:</b> South Carolina, United States</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 32.89864</p>' +
                    '<p><b>Longitude:</b> -80.04053</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/play/asx/kchs.asx" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KCHS GND/TWR/APP</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>---- KCHS GND/TWR/APP</b></p>
                        <p><b>120.700</b> Charleston Approach/Departure</p>
                        <p><b>121.275</b> Charleston Approach/Departure</p>
                        <p><b>306.925</b> Charleston Approach/Departure</p>
                        <p><b>379.925</b> Charleston Approach/Departure</p>
                        <p><b>121.900</b> Charleston Ground</p>
                        <p><b>348.600</b> Charleston Ground</p>
                        <p><b>126.000</b> Charleston Tower</p>
                        <p><b>239.000</b> Charleston Tower</p>
                        <p><b>121.500</b> Emergency/Guard</p>
                        <p><b>243.000</b> Emergency/Guard</p>
                        <br>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });

            var kluf_airport_custom = L.divIcon({
                className: 'kluf_custom-marker',
                html: '<div class="icon-content">üóºKLUF</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kluf_airport_custom_style = document.createElement('style');
            kluf_airport_custom_style.innerHTML = '.kluf_custom-marker .icon-content { background-color: #f3ac1d; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kluf_airport_custom_style);

            var kluf_airport = L.marker([33.53496, -112.38321], { icon: kluf_airport_custom }).addTo(Map);
            kluf_airport.bindPopup(
                '<br>Luke Air Force Base (KLUF)</br><br>' +
                'IATA CODE: LUF<br>' +
                'ICAO CODE: KLUF<br>' +
                'CITY: Arizona, United States<br>' +
                'AIRPORT TYPE: Army<br><br>' +
                'Latitude: 33.53496<br>' +
                'Longitude: -112.38321<br><br>'
            ).openPopup();

            kluf_airport.on('click', function () {
                fetchMETAR("KLUF", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Luke Air Force Base (KLUF)</b></p>' +
                    '<p><b>IATA CODE:</b> LUF</p>' +
                    '<p><b>ICAO CODE:</b> KLUF</p>' +
                    '<p><b>City:</b> Arizona, United States</p>' +
                    '<p><b>Airport Type:</b> Army</p>' +
                    '<p><b>Latitude:</b> 33.53496</p>' +
                    '<p><b>Longitude:</b> -112.38321</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kphx5_kluf_app&icao=kluf" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KLUF APPROACH/DEPARTURE</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kphx5_kluf_gnd_twr&icao=kluf" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KLUF DEL/GND/TWR/MISC</a>' + `
                    </a>
                    <br><br>
                    <div class="scrollable-content">
                        <p><b>---- KLUF APP/DEP</b></p>
                        <p><b>118.150</b> Luke Approach/Departure</p>
                        <p><b>125.450</b> Luke Approach/Departure</p>
                        <p><b>263.125</b> Luke Approach/Departure</p>
                        <p><b>363.125</b> Luke Approach/Departure</p>
                        <p><b>120.500</b> Luke Arrival</p>
                        <br>
                        <p><b>---- KLUF DEL/GND/TWR/MISC</b></p>
                        <p><b>349.400</b> Command Post (Raymond-18)</p>
                        <p><b>243.000</b> Emergency/Guard</p>
                        <p><b>291.100</b> In-Flight Emergencies</p>
                        <p><b>126.250</b> Luke Clearance Delivery</p>
                        <p><b>273.475</b> Luke Clearance Delivery</p>
                        <p><b>133.175</b> Luke Ground</p>
                        <p><b>335.800</b> Luke Ground</p>
                        <p><b>119.100</b> Luke Tower</p>
                        <p><b>379.900</b> Luke Tower</p>
                        <p><b>267.400</b> PMSV - Metro/Weather</p>
                        <p><b>372.200</b> PTD</p>
                        <p><b>149.400</b> SOF</p>
                        <p><b>369.000</b> SOF</p>
                        <br>
                    </div>
                </div>`;
                updateSidebar(sidebarContent);
            });
        });


            var lfrk_airport_custom = L.divIcon({
                className: 'lfrk_custom-marker',
                html: '<div class="icon-content">üóºLFRK</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var lfrk_airport_custom_style = document.createElement('style');
            lfrk_airport_custom_style.innerHTML = '.lfrk_custom-marker .icon-content { background-color: #E82900; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(lfrk_airport_custom_style);

            var lfrk_airport = L.marker([49.18333, -0.45], { icon: lfrk_airport_custom }).addTo(Map);
            lfrk_airport.bindPopup(
                '<br>Carpiquet AIRPORT (CFR)</br><br>' +
                'IATA CODE: CFR<br>' +
                'ICAO CODE: LFRK<br>' +
                'CITY: Caen-Carpiquet, France<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 49.183333333333<br>' +
                'Longitude: -0.45<br><br>'
            ).openPopup();

            lfrk_airport.on('click', function () {
                fetchMETAR("LFRK", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Carpiquet AIRPORT (CFR)</b></p>' +
                    '<p><b>IATA CODE:</b> CFR</p>' +
                    '<p><b>ICAO CODE:</b> LFRK</p>' +
                    '<p><b>City:</b> Caen-Carpiquet, France</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 49.183333333333</p>' +
                    '<p><b>Longitude:</b> -0.45</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/search/?icao=2770" target="_blank" ' +
                    'style="padding: 2px; background-color: #E0340F; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'NO LISTENING FOUND</a>';

                updateSidebar(sidebarContent);
            });
        });

            var lfbd_airport_custom = L.divIcon({
                className: 'lfbd_custom-marker',
                html: '<div class="icon-content">üóºLFBD</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var lfbd_airport_custom_style = document.createElement('style');
            lfbd_airport_custom_style.innerHTML = '.lfbd_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(lfbd_airport_custom_style);

            var lfbd_airport = L.marker([44.8291, -0.702779], { icon: lfbd_airport_custom }).addTo(Map);
            lfbd_airport.bindPopup(
                '<br>Bordeaux AIRPORT (LFBD)</br><br>' +
                'IATA CODE: BOD<br>' +
                'ICAO CODE: LFBD<br>' +
                'CITY: Merignac-Bordeaux, France<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 44.8291<br>' +
                'Longitude: -0.702779<br><br>'
            ).openPopup();

            lfbd_airport.on('click', function () {
                fetchMETAR("LFBD", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Bordeaux AIRPORT (LFBD)</b></p>' +
                    '<p><b>IATA CODE:</b> BOD</p>' +
                    '<p><b>ICAO CODE:</b> LFBD</p>' +
                    '<p><b>City:</b> Merignac-Bordeaux, France</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 44.8291</p>' +
                    '<p><b>Longitude:</b> -0.702779</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?icao=lfbd&mount=lfbd_bordeaux" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block;">' +
                    'üì° LISTEN LFBD CONTROL</a>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=lfbd2_app&icao=lfbd" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN LFBD AQUITAINE APPROACH</a>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=lfbd2_gnd&icao=lfbd" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN LFBD GROUND</a>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=lfbd2_twr&icao=lfbd" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN LFBD TOWER</a>';

                updateSidebar(sidebarContent);
            });
        });


            var lfbu_airport_custom = L.divIcon({
                className: 'lfbu_custom-marker',
                html: '<div class="icon-content">üóºLFBU</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var lfbu_airport_custom_style = document.createElement('style');
            lfbu_airport_custom_style.innerHTML = '.lfbu_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(lfbu_airport_custom_style);

            var lfbu_airport = L.marker([45.7292, 0.22146], { icon: lfbu_airport_custom }).addTo(Map);
            lfbu_airport.bindPopup(
                '<br>Cognac FIR AIRPORT (LFBU)</br><br>' +
                'IATA CODE: ANG<br>' +
                'ICAO CODE: LFBU<br>' +
                'CITY: Angoul√™me-Brie-Champniers, France<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 45.7292<br>' +
                'Longitude: 0.22146<br><br>'
            ).openPopup();

            lfbu_airport.on('click', function () {
                fetchMETAR("LFBU", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Cognac FIR AIRPORT (LFBU)</b></p>' +
                    '<p><b>IATA CODE:</b> ANG</p>' +
                    '<p><b>ICAO CODE:</b> LFBU</p>' +
                    '<p><b>City:</b> Angoul√™me-Brie-Champniers, Francee</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 45.7292</p>' +
                    '<p><b>Longitude:</b> 0.221469</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=lfbu" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN LFBU/LFBL TOWER</a>';

                updateSidebar(sidebarContent);
            });
        });


            var lfbl_airport_custom = L.divIcon({
                className: 'lfbl_custom-marker',
                html: '<div class="icon-content">üóºLFBL</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var lfbl_airport_custom_style = document.createElement('style');
            lfbl_airport_custom_style.innerHTML = '.lfbl_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(lfbl_airport_custom_style);

            var lfbl_airport = L.marker([45.86300, 1.18300], { icon: lfbl_airport_custom }).addTo(Map);
            lfbl_airport.bindPopup(
                '<br>Bellegarde AIRPORT (LFBL)</br><br>' +
                'IATA CODE: LIG<br>' +
                'ICAO CODE: LFBL<br>' +
                'CITY: Limoges, France<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 45.86300<br>' +
                'Longitude: 1.18300<br><br>'
            ).openPopup();

            lfbl_airport.on('click', function () {
                fetchMETAR("LFBL", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Bellegarde AIRPORT (LFBL)</b></p>' +
                    '<p><b>IATA CODE:</b> LIG</p>' +
                    '<p><b>ICAO CODE:</b> LFBL</p>' +
                    '<p><b>City:</b> Limoges, France</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 45.86300</p>' +
                    '<p><b>Longitude:</b> 1.18300</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=lfbu" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block;">' +
                    'üì° LISTEN LFBU/LFBL TOWER</a>';

                updateSidebar(sidebarContent);
            });
        });


            var lfbz_airport_custom = L.divIcon({
                className: 'lfbz_custom-marker',
                html: '<div class="icon-content">üóºLFBZ</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var lfbz_airport_custom_style = document.createElement('style');
            lfbz_airport_custom_style.innerHTML = '.lfbz_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(lfbz_airport_custom_style);

            var lfbz_airport = L.marker([43.46833, -1.53111], { icon: lfbz_airport_custom }).addTo(Map);
            lfbz_airport.bindPopup(
                '<br>Bayonne AIRPORT (LFBZ)</br><br>' +
                'IATA CODE: BIQ<br>' +
                'ICAO CODE: LFBZ<br>' +
                'CITY: Biarritz-Anglet-Bayonne, France<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 43.46833<br>' +
                'Longitude: -1.53111<br><br>'
            ).openPopup();

            lfbz_airport.on('click', function () {
                fetchMETAR("LFBZ", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Bayonne AIRPORT (LFBZ)</b></p>' +
                    '<p><b>IATA CODE:</b> BIQ</p>' +
                    '<p><b>ICAO CODE:</b> LFBZ</p>' +
                    '<p><b>City:</b> Biarritz-Anglet-Bayonne, France</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 43.46833</p>' +
                    '<p><b>Longitude:</b> -1.53111</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=lfbz2" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block;">' +
                    'üì° LISTEN LFBZ TOWER</a>';

                updateSidebar(sidebarContent);
            });
        });



            var lfll_airport_custom = L.divIcon({
                className: 'lfll_custom-marker',
                html: '<div class="icon-content">üóºLFLL</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var lfll_airport_custom_style = document.createElement('style');
            lfll_airport_custom_style.innerHTML = '.lfll_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(lfll_airport_custom_style);

            var lfll_airport = L.marker([45.72556, 5.08111], { icon: lfll_airport_custom }).addTo(Map);
            lfll_airport.bindPopup(
                '<br>Lyon AIRPORT (LFLL)</br><br>' +
                'IATA CODE: LYS<br>' +
                'ICAO CODE: LFLL<br>' +
                'CITY: Lyon, France<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 45.72556<br>' +
                'Longitude: 5.08111<br><br>'
            ).openPopup();

            lfll_airport.on('click', function () {
                fetchMETAR("LFLL", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Lyon AIRPORT (LFLL)</b></p>' +
                    '<p><b>IATA CODE:</b> LYS</p>' +
                    '<p><b>ICAO CODE:</b> LFLL</p>' +
                    '<p><b>City:</b> Lyon, France</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 45.72556</p>' +
                    '<p><b>Longitude:</b> 5.08111</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=lfll" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block;">' +
                    'üì° LISTEN LFLL TOWER</a>';

                updateSidebar(sidebarContent);
            });
        });



            var lflp_airport_custom = L.divIcon({
                className: 'lflp_custom-marker',
                html: '<div class="icon-content">üóºLFLP</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var lflp_airport_custom_style = document.createElement('style');
            lflp_airport_custom_style.innerHTML = '.lflp_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(lflp_airport_custom_style);

            var lflp_airport = L.marker([45.92900, 6.10000], { icon: lflp_airport_custom }).addTo(Map);
            lflp_airport.bindPopup(
                '<br>Meythet AIRPORT (LFLP)</br><br>' +
                'IATA CODE: NCY<br>' +
                'ICAO CODE: LFLP<br>' +
                'CITY: Lyon, France<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 45.92900<br>' +
                'Longitude: 6.10000<br><br>'
            ).openPopup();

            lflp_airport.on('click', function () {
                fetchMETAR("LFLP", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Meythet AIRPORT (LFLP)</b></p>' +
                    '<p><b>IATA CODE:</b> NCY</p>' +
                    '<p><b>ICAO CODE:</b> LFLP</p>' +
                    '<p><b>City:</b> Lyon, France</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 45.92900</p>' +
                    '<p><b>Longitude:</b> 6.10000</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=lflp" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block;">' +
                    'üì° LISTEN LFLP TOWER/LFLB APPROACH</a>';

                updateSidebar(sidebarContent);
            });
        });


            var lfly_airport_custom = L.divIcon({
                className: 'lfly_custom-marker',
                html: '<div class="icon-content">üóºLFLY</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var lfly_airport_custom_style = document.createElement('style');
            lfly_airport_custom_style.innerHTML = '.lfly_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(lfly_airport_custom_style);

            var lfly_airport = L.marker([45.724330436, 4.93666292], { icon: lfly_airport_custom }).addTo(Map);
            lfly_airport.bindPopup(
                '<br>Bron AIRPORT (LFLY)</br><br>' +
                'IATA CODE: LYN<br>' +
                'ICAO CODE: LFLY<br>' +
                'CITY: Bron, France<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 45.724330436<br>' +
                'Longitude: 4.93666292<br><br>'
            ).openPopup();

            lfly_airport.on('click', function () {
                fetchMETAR("LFLY", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Bron AIRPORT (LFLY)</b></p>' +
                    '<p><b>IATA CODE:</b> LYN</p>' +
                    '<p><b>ICAO CODE:</b> LFLY</p>' +
                    '<p><b>City:</b> Bron, France</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 45.724330436</p>' +
                    '<p><b>Longitude:</b> 4.93666292</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=lfly_twr" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block;">' +
                    'üì° LISTEN LFLY TOWER</a>';

                updateSidebar(sidebarContent);
            });
        });


            var lfst_airport_custom = L.divIcon({
                className: 'lfst_custom-marker',
                html: '<div class="icon-content">üóºLFST</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var lfst_airport_custom_style = document.createElement('style');
            lfst_airport_custom_style.innerHTML = '.lfst_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(lfst_airport_custom_style);

            var lfst_airport = L.marker([48.5383, 7.62823], { icon: lfst_airport_custom }).addTo(Map);
            lfst_airport.bindPopup(
                '<br>Strasbourg Entzheim AIRPORT (LFST)</br><br>' +
                'IATA CODE: SXB<br>' +
                'ICAO CODE: LFST<br>' +
                'CITY: Strasbourg, France<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 48.5383<br>' +
                'Longitude: 7.62823<br><br>'
            ).openPopup();

            lfst_airport.on('click', function () {
                fetchMETAR("LFST", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Strasbourg Entzheim AIRPORT (LFST)</b></p>' +
                    '<p><b>IATA CODE:</b> SXB</p>' +
                    '<p><b>ICAO CODE:</b> LFST</p>' +
                    '<p><b>City:</b> Strasbourg, France</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 48.5383</p>' +
                    '<p><b>Longitude:</b> 7.62823</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=lfst_emergency" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN LFST EMERGENCY/GUARD</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=lfst_app1" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN LFST APPROACH #1</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=lfst_app2" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN LFST APPROACH #2</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=lfst_gnd" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN LFST GROUND</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=lfst_twr" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN LFST CONTROL TOWER</a>';

                updateSidebar(sidebarContent);
            });
        });


            var lfmn_airport_custom = L.divIcon({
                className: 'lfmn_custom-marker',
                html: '<div class="icon-content">üóºLFMN</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var lfmn_airport_custom_style = document.createElement('style');
            lfmn_airport_custom_style.innerHTML = '.lfmn_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(lfmn_airport_custom_style);

            var lfmn_airport = L.marker([43.6584, 7.21587], { icon: lfmn_airport_custom }).addTo(Map);
            lfmn_airport.bindPopup(
                '<br>Nice AIRPORT (LFMN)</br><br>' +
                'IATA CODE: NCE<br>' +
                'ICAO CODE: LFMN<br>' +
                'CITY: Saint-Laurent-du-Var, France<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 43.6584<br>' +
                'Longitude: 7.21587<br><br>'
            ).openPopup();

            lfmn_airport.on('click', function () {
                fetchMETAR("LFMN", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Nice AIRPORT (LFMN)</b></p>' +
                    '<p><b>IATA CODE:</b> NCE</p>' +
                    '<p><b>ICAO CODE:</b> LFMN</p>' +
                    '<p><b>City:</b> Saint-Laurent-du-Var, France</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 43.6584</p>' +
                    '<p><b>Longitude:</b> 7.21587</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=lfly_twr" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block;">' +
                    'üì° LISTEN FIS APPROACH</a>';

                updateSidebar(sidebarContent);
            });
        });


            var lfmd_airport_custom = L.divIcon({
                className: 'lfmd_custom-marker',
                html: '<div class="icon-content">üóºLFMD</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var lfmd_airport_custom_style = document.createElement('style');
            lfmd_airport_custom_style.innerHTML = '.lfmd_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(lfmd_airport_custom_style);

            var lfmd_airport = L.marker([43.542, 6.95348], { icon: lfmd_airport_custom }).addTo(Map);
            lfmd_airport.bindPopup(
                '<br>Cannes-Mandelieu AIRPORT (LFMD)</br><br>' +
                'IATA CODE: CEQ<br>' +
                'ICAO CODE: LFMD<br>' +
                'CITY: Mandelieu-la-Napoule, France<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 43.542<br>' +
                'Longitude: 6.95348<br><br>'
            ).openPopup();

            lfmd_airport.on('click', function () {
                fetchMETAR("LFMD", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Cannes-Mandelieu AIRPORT (LFMD)</b></p>' +
                    '<p><b>IATA CODE:</b> CEQ</p>' +
                    '<p><b>ICAO CODE:</b> LFMD</p>' +
                    '<p><b>City:</b> Mandelieu-la-Napoule, France</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 43.542</p>' +
                    '<p><b>Longitude:</b> 6.95348</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=lfly_twr" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block;">' +
                    'üì° LISTEN LFMD GROUND/TOWER</a>';

                updateSidebar(sidebarContent);
            });
        });


            var uuee_airport_custom = L.divIcon({
                className: 'uuee_custom-marker',
                html: '<div class="icon-content">üóºUUEE</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var uuee_airport_custom_style = document.createElement('style');
            uuee_airport_custom_style.innerHTML = '.uuee_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(uuee_airport_custom_style);

            var uuee_airport = L.marker([55.9726, 37.4146], { icon: uuee_airport_custom }).addTo(Map);
            uuee_airport.bindPopup(
                '<br>Sheremetyevo AIRPORT (LFMD)</br><br>' +
                'IATA CODE: SVO<br>' +
                'ICAO CODE: UUEE<br>' +
                'CITY: Isakovo, Russia<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 55.9726<br>' +
                'Longitude: 37.4146<br><br>'
            ).openPopup();

            uuee_airport.on('click', function () {
                fetchMETAR("UUEE", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Sheremetyevo AIRPORT (LFMD)</b></p>' +
                    '<p><b>IATA CODE:</b> SVO</p>' +
                    '<p><b>ICAO CODE:</b> UUEE</p>' +
                    '<p><b>City:</b> Isakovo, Russia</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 55.9726</p>' +
                    '<p><b>Longitude:</b> 37.4146</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=uuee3&icao=uuee" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block;">' +
                    'üì° LISTEN UUEE TOWER/APP/RADAR</a>';

                updateSidebar(sidebarContent);
            });
        });

            var vhhh_airport_custom = L.divIcon({
                className: 'vhhh_custom-marker',
                html: '<div class="icon-content">üóºVHHH</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var vhhh_airport_custom_style = document.createElement('style');
            vhhh_airport_custom_style.innerHTML = '.vhhh_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(vhhh_airport_custom_style);

            var vhhh_airport = L.marker([22.31448, 113.90759], { icon: vhhh_airport_custom }).addTo(Map);
            vhhh_airport.bindPopup(
                '<br>Hong Kong International Airport (VHHH)</br><br>' +
                'IATA CODE: HKG<br>' +
                'ICAO CODE: VHHH<br>' +
                'CITY: Hong Kong, China<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 22.31448<br>' +
                'Longitude: 113.90759<br><br>'
            ).openPopup();

            vhhh_airport.on('click', function () {
                fetchMETAR("VHHH", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Hong Kong International Airport (VHHH)</b></p>' +
                    '<p><b>IATA CODE:</b> HKG</p>' +
                    '<p><b>ICAO CODE:</b> VHHH</p>' +
                    '<p><b>City:</b> Hong Kong, China</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 22.31448</p>' +
                    '<p><b>Longitude:</b> 113.90759</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=vhhh5&icao=vhhh" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block;">' +
                    'üì° LISTEN VHHH APPROACH/DEPARTURE/DIR/ZONE</a>';

                updateSidebar(sidebarContent);
            });
        });



            var esok_airport_custom = L.divIcon({
                className: 'esok_custom-marker',
                html: '<div class="icon-content">üóºESOK</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var esok_airport_custom_style = document.createElement('style');
            esok_airport_custom_style.innerHTML = '.esok_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(esok_airport_custom_style);

            var esok_airport = L.marker([59.4447, 13.3374], { icon: esok_airport_custom }).addTo(Map);
            esok_airport.bindPopup(
                '<br>Karlstad Airport (ESOK)</br><br>' +
                'IATA CODE: KSD<br>' +
                'ICAO CODE: ESOK<br>' +
                'CITY: Karlstad, Sweden<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 59.4447<br>' +
                'Longitude: 13.3374<br><br>'
            ).openPopup();

            esok_airport.on('click', function () {
                fetchMETAR("ESOK", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Karlstad Airport (ESOK)</b></p>' +
                    '<p><b>IATA CODE:</b> KSD</p>' +
                    '<p><b>ICAO CODE:</b> ESOK</p>' +
                    '<p><b>City:</b> Karlstad, Sweden</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 59.4447</p>' +
                    '<p><b>Longitude:</b> 13.3374</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=esok" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block;">' +
                    'üì° LISTEN ESOK TOWER/RADAR/MISC</a>';

                updateSidebar(sidebarContent);
            });
        });




            var egpd_airport_custom = L.divIcon({
                className: 'egpd_custom-marker',
                html: '<div class="icon-content">üóºEGPD</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var egpd_airport_custom_style = document.createElement('style');
            egpd_airport_custom_style.innerHTML = '.egpd_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(egpd_airport_custom_style);

            var egpd_airport = L.marker([57.20298, -2.19778], { icon: egpd_airport_custom }).addTo(Map);
            egpd_airport.bindPopup(
                '<br>Aberdeen Dyce Airport (EGPD)</br><br>' +
                'IATA CODE: ABZ<br>' +
                'ICAO CODE: EGPD<br>' +
                'CITY: Gdansk, Poland<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 57.20298<br>' +
                'Longitude: 13.3374<br><br>'
            ).openPopup();

            egpd_airport.on('click', function () {
                fetchMETAR("EGPD", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Aberdeen Dyce Airport (EGPD)</b></p>' +
                    '<p><b>IATA CODE:</b> ABZ</p>' +
                    '<p><b>ICAO CODE:</b> EGPD</p>' +
                    '<p><b>City:</b> Gdansk, Poland</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 57.20298</p>' +
                    '<p><b>Longitude:</b> -2.19778</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=epgd&icao=epgd" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block;">' +
                    'üì° LISTEN EGPD TOWER/APPROACH</a>';

                updateSidebar(sidebarContent);
            });
        });



            var rjaa_airport_custom = L.divIcon({
                className: 'rjaa_custom-marker',
                html: '<div class="icon-content">üóºRJAA</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var rjaa_airport_custom_style = document.createElement('style');
            rjaa_airport_custom_style.innerHTML = '.rjaa_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(rjaa_airport_custom_style);

            var rjaa_airport = L.marker([35.77655, 140.38275], { icon: rjaa_airport_custom }).addTo(Map);
            rjaa_airport.bindPopup(
                '<br>Narita International Airport (RJAA)</br><br>' +
                'IATA CODE: NRT<br>' +
                'ICAO CODE: RJAA<br>' +
                'CITY: Narita, Japan<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 35.77655<br>' +
                'Longitude: 140.38275<br><br>'
            ).openPopup();

            rjaa_airport.on('click', function () {
                fetchMETAR("RJAA", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Narita International Airport (RJAA)</b></p>' +
                    '<p><b>IATA CODE:</b> NRT</p>' +
                    '<p><b>ICAO CODE:</b> RJAA</p>' +
                    '<p><b>City:</b> Narita, Japan</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 35.77655</p>' +
                    '<p><b>Longitude:</b> 140.38275</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=epgd&icao=epgd" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block;">' +
                    'üì° LISTEN EGPD TOWER/APPROACH</a>';

                updateSidebar(sidebarContent);
            });
        });


            var kjfk_airport_custom = L.divIcon({
                className: 'kjfk_custom-marker',
                html: '<div class="icon-content">üóºKJFK</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kjfk_airport_custom_style = document.createElement('style');
            kjfk_airport_custom_style.innerHTML = '.kjfk_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kjfk_airport_custom_style);

            var kjfk_airport = L.marker([40.63993, -73.77869], { icon: kjfk_airport_custom }).addTo(Map);
            kjfk_airport.bindPopup(
                '<br>John F Kennedy International Airport (KJFK)</br><br>' +
                'IATA CODE: JFK<br>' +
                'ICAO CODE: KJFK<br>' +
                'CITY: New York, United States<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 40.63993<br>' +
                'Longitude: -73.77869<br><br>'
            ).openPopup();

            kjfk_airport.on('click', function () {
                fetchMETAR("KJFK", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>John F Kennedy International Airport (KJFK)</b></p>' +
                    '<p><b>IATA CODE:</b> JFK</p>' +
                    '<p><b>ICAO CODE:</b> KJFK</p>' +
                    '<p><b>City:</b> New York, United States</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 40.63993</p>' +
                    '<p><b>Longitude:</b> -73.77869</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kjfk_dep&icao=kjfk" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KJFK NY DEPARTURE</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kjfk_twr" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KJFK TOWER</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kjfk_app_final&icao=kjfk" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KJFK NY FINAL APPROACH</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kjfk_app_camrn&icao=kjfk" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KJFK APPROACH CAMRN3</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kjfk_bw_app_camrn&icao=kjfk" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KJFK APPROACH CAMRN2</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=zbw_ron4&icao=kjfk" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KJFK ZBW/ZNY/ZDC JFK AREA #4</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?icao=kjfk&mount=zbw_ron3" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KJFK ZBW/ZNY/ZDC JFK AREA #3</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kjfk_arinc&amp%3Bicao=kjfk" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KJFK ARINC JFK/LGA AREA</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?icao=kjfk&mount=kjfk_atis" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KJFK D-ATIS</a>';

                updateSidebar(sidebarContent);
            });
        });



            var ttpp_airport_custom = L.divIcon({
                className: 'ttpp_custom-marker',
                html: '<div class="icon-content">üóºTTPP</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var ttpp_airport_custom_style = document.createElement('style');
            ttpp_airport_custom_style.innerHTML = '.ttpp_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(ttpp_airport_custom_style);

            var ttpp_airport = L.marker([10.5954, -61.3372], { icon: ttpp_airport_custom }).addTo(Map);
            ttpp_airport.bindPopup(
                '<br>Piarco International Airport (TTPP)</br><br>' +
                'IATA CODE: NRT<br>' +
                'ICAO CODE: TTPP<br>' +
                'CITY: Piarco, Brezil<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 10.5954<br>' +
                'Longitude: -61.3372<br><br>'
            ).openPopup();

            ttpp_airport.on('click', function () {
                fetchMETAR("TTPP", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Piarco International Airport (TTPP)</b></p>' +
                    '<p><b>IATA CODE:</b> NRT</p>' +
                    '<p><b>ICAO CODE:</b> TTPP</p>' +
                    '<p><b>City:</b> Piarco, Brezil</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 10.5954</p>' +
                    '<p><b>Longitude:</b> -61.3372</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ttpp2" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block;  margin-top: 5px;">' +
                    'üì° LISTEN TTPP GRND/TWR/APP/CENTER</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ttpp_app" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block;  margin-top: 5px;">' +
                    'üì° LISTEN TTPP PIARCO APP/CENTER</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ttpp_twr&icao=ttpp" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block;  margin-top: 5px;">' +
                    'üì° LISTEN TTPP APRON/GND/TWR</a>';

                updateSidebar(sidebarContent);
            });
        });

            var kiwa_airport_custom = L.divIcon({
                className: 'kiwa_custom-marker',
                html: '<div class="icon-content">üóºKIWA</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kiwa_airport_custom_style = document.createElement('style');
            kiwa_airport_custom_style.innerHTML = '.kiwa_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kiwa_airport_custom_style);

            var kiwa_airport = L.marker([33.30782, -111.65546], { icon: kiwa_airport_custom }).addTo(Map);
            kiwa_airport.bindPopup(
                '<br>Phoenix-Mesa Gateway Airport (KIWA)</br><br>' +
                'IATA CODE: IWA<br>' +
                'ICAO CODE: KIWA<br>' +
                'CITY: Arizona, United States<br>' +
                'AIRPORT TYPE: Gateway<br><br>' +
                'Latitude: 33.30782<br>' +
                'Longitude: -111.65546<br><br>'
            ).openPopup();

            kiwa_airport.on('click', function () {
                fetchMETAR("KIWA", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Phoenix-Mesa Gateway Airport (KIWA)</b></p>' +
                    '<p><b>IATA CODE:</b> IWA</p>' +
                    '<p><b>ICAO CODE:</b> KIWA</p>' +
                    '<p><b>City:</b> Arizona, United States</p>' +
                    '<p><b>Airport Type:</b> Gateway</p>' +
                    '<p><b>Latitude:</b> 33.30782</p>' +
                    '<p><b>Longitude:</b> -111.65546</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kiwa" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KIWA TOWER/GROUND</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kiwa1_twr&icao=kiwa" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KIWA TOWER</a>';

                updateSidebar(sidebarContent);
            });
        });



            var kphf_airport_custom = L.divIcon({
                className: 'kphf_custom-marker',
                html: '<div class="icon-content">üóºKPHF</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kphf_airport_custom_style = document.createElement('style');
            kphf_airport_custom_style.innerHTML = '.kphf_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kphf_airport_custom_style);

            var kphf_airport = L.marker([37.13189, -76.49297], { icon: kphf_airport_custom }).addTo(Map);
            kphf_airport.bindPopup(
                '<br>Newport News/Williamsburg International Airport (KPHF)</br><br>' +
                'IATA CODE: PHF<br>' +
                'ICAO CODE: KPHF<br>' +
                'CITY: Alabama, United States<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 37.13189<br>' +
                'Longitude: -76.49297<br><br>'
            ).openPopup();

            kphf_airport.on('click', function () {
                fetchMETAR("KPHF", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Newport News/Williamsburg International Airport (KPHF)</b></p>' +
                    '<p><b>IATA CODE:</b> PHF</p>' +
                    '<p><b>ICAO CODE:</b> KPHF</p>' +
                    '<p><b>City:</b> Alabama, United States</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 37.13189</p>' +
                    '<p><b>Longitude:</b> -76.49297</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kphf" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KPHF GROUND/TOWER</a>';

                updateSidebar(sidebarContent);
            });
        });



            var ksun_airport_custom = L.divIcon({
                className: 'ksun_custom-marker',
                html: '<div class="icon-content">üóºKSUN</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var ksun_airport_custom_style = document.createElement('style');
            ksun_airport_custom_style.innerHTML = '.ksun_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(ksun_airport_custom_style);

            var ksun_airport = L.marker([43.50378, -114.29556], { icon: ksun_airport_custom }).addTo(Map);
            ksun_airport.bindPopup(
                '<br>Friedman Memorial Airport (KSUN)</br><br>' +
                'IATA CODE: SUN<br>' +
                'ICAO CODE: KSUN<br>' +
                'CITY: Idaho, United States<br>' +
                'AIRPORT TYPE: Memorial<br><br>' +
                'Latitude: 43.50378<br>' +
                'Longitude: -114.29556<br><br>'
            ).openPopup();

            ksun_airport.on('click', function () {
                fetchMETAR("KSUN", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Friedman Memorial Airport (KSUN)</b></p>' +
                    '<p><b>IATA CODE:</b> SUN</p>' +
                    '<p><b>ICAO CODE:</b> KSUN</p>' +
                    '<p><b>City:</b> Idaho, United States</p>' +
                    '<p><b>Airport Type:</b> Memorial</p>' +
                    '<p><b>Latitude:</b> 43.50378</p>' +
                    '<p><b>Longitude:</b> -114.29556</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ksun" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KSUN GROUND/TOWER</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ksun_atis" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KSUN ATIS</a>';

                updateSidebar(sidebarContent);
            });
        });


            var kosh_airport_custom = L.divIcon({
                className: 'kosh_custom-marker',
                html: '<div class="icon-content">üóºKOSH</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kosh_airport_custom_style = document.createElement('style');
            kosh_airport_custom_style.innerHTML = '.kosh_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kosh_airport_custom_style);

            var kosh_airport = L.marker([43.98437, -88.55704], { icon: kosh_airport_custom }).addTo(Map);
            kosh_airport.bindPopup(
                '<br>Wittman Regional Airport (KOSH)</br><br>' +
                'IATA CODE: OSH<br>' +
                'ICAO CODE: KOSH<br>' +
                'CITY: Wisconsin, United States<br>' +
                'AIRPORT TYPE: Regional<br><br>' +
                'Latitude: 43.98437<br>' +
                'Longitude: -88.55704<br><br>'
            ).openPopup();

            kosh_airport.on('click', function () {
                fetchMETAR("KOSH", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Wittman Regional Airport (KOSH)</b></p>' +
                    '<p><b>IATA CODE:</b> OSH</p>' +
                    '<p><b>ICAO CODE:</b> KOSH</p>' +
                    '<p><b>City:</b> Wisconsin, United States</p>' +
                    '<p><b>Airport Type:</b> Regional</p>' +
                    '<p><b>Latitude:</b> 43.98437</p>' +
                    '<p><b>Longitude:</b> -88.55704</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kosh&icao=kosh" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KOSH TOWER (North)</a>';

                updateSidebar(sidebarContent);
            });
        });


            var kcpm_airport_custom = L.divIcon({
                className: 'kcpm_custom-marker',
                html: '<div class="icon-content">üóºKCPM</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kcpm_airport_custom_style = document.createElement('style');
            kcpm_airport_custom_style.innerHTML = '.kcpm_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kcpm_airport_custom_style);

            var kcpm_airport = L.marker([33.88992, -118.24381], { icon: kcpm_airport_custom }).addTo(Map);
            kcpm_airport.bindPopup(
                '<br>Compton/Woodley Airport (KCPM)</br><br>' +
                'IATA CODE: CPM<br>' +
                'ICAO CODE: KCPM<br>' +
                'CITY: California, United States<br>' +
                'AIRPORT TYPE: Regional<br><br>' +
                'Latitude: 33.88992<br>' +
                'Longitude: -118.24381<br><br>'
            ).openPopup();

            kcpm_airport.on('click', function () {
                fetchMETAR("KCPM", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Compton/Woodley Airport (KCPM)</b></p>' +
                    '<p><b>IATA CODE:</b> CPM</p>' +
                    '<p><b>ICAO CODE:</b> KCPM</p>' +
                    '<p><b>City:</b> California, United States</p>' +
                    '<p><b>Airport Type:</b> Regional</p>' +
                    '<p><b>Latitude:</b> 33.88992</p>' +
                    '<p><b>Longitude:</b> -118.24381</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kcpm2&icao=kcpm" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KCPM CTAF</a>';

                updateSidebar(sidebarContent);
            });
        });




            var kane_airport_custom = L.divIcon({
                className: 'kane_custom-marker',
                html: '<div class="icon-content">üóºKANE</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kane_airport_custom_style = document.createElement('style');
            kane_airport_custom_style.innerHTML = '.kane_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kane_airport_custom_style);

            var kane_airport = L.marker([45.14489, -93.21019], { icon: kane_airport_custom }).addTo(Map);
            kane_airport.bindPopup(
                '<br>Compton/Woodley Airport (KANE)</br><br>' +
                'IATA CODE: ANE<br>' +
                'ICAO CODE: KANE<br>' +
                'CITY: Minnesota, United States<br>' +
                'AIRPORT TYPE: Regional<br><br>' +
                'Latitude: 33.88992<br>' +
                'Longitude: -118.24381<br><br>'
            ).openPopup();

            kane_airport.on('click', function () {
                fetchMETAR("KANE", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Compton/Woodley Airport (KANE)</b></p>' +
                    '<p><b>IATA CODE:</b> ANE</p>' +
                    '<p><b>ICAO CODE:</b> KANE</p>' +
                    '<p><b>City:</b> Minnesota, United States</p>' +
                    '<p><b>Airport Type:</b> Regional</p>' +
                    '<p><b>Latitude:</b> 33.88992</p>' +
                    '<p><b>Longitude:</b> -118.24381</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kane" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KANE TOWER/CTAF</a>';

                updateSidebar(sidebarContent);
            });
        });


            var kn51_airport_custom = L.divIcon({
                className: 'kn51_custom-marker',
                html: '<div class="icon-content">üóºKN51</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kn51_airport_custom_style = document.createElement('style');
            kn51_airport_custom_style.innerHTML = '.kn51_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kn51_airport_custom_style);

            var kn51_airport = L.marker([40.58274, -74.73672], { icon: kn51_airport_custom }).addTo(Map);
            kn51_airport.bindPopup(
                '<br>Solberg/Hunterdon Airport (KN51)</br><br>' +
                'IATA CODE: N51<br>' +
                'ICAO CODE: KN51<br>' +
                'CITY: New Jersey, United States<br>' +
                'AIRPORT TYPE: Regional<br><br>' +
                'Latitude: 40.58274<br>' +
                'Longitude: -74.73672<br><br>'
            ).openPopup();

            kn51_airport.on('click', function () {
                fetchMETAR("KN51", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Solberg/Hunterdon Airport (KN51)</b></p>' +
                    '<p><b>IATA CODE:</b> N51</p>' +
                    '<p><b>ICAO CODE:</b> KN51</p>' +
                    '<p><b>City:</b> New Jersey, United States</p>' +
                    '<p><b>Airport Type:</b> Regional</p>' +
                    '<p><b>Latitude:</b> 40.58274</p>' +
                    '<p><b>Longitude:</b> -74.73672</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=39n_n51_ctaf" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN N51 CTAF</a>';

                updateSidebar(sidebarContent);
            });
        });


            var kfhr_airport_custom = L.divIcon({
                className: 'kfhr_custom-marker',
                html: '<div class="icon-content">üóºKFHR</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kfhr_airport_custom_style = document.createElement('style');
            kfhr_airport_custom_style.innerHTML = '.kfhr_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kfhr_airport_custom_style);

            var kfhr_airport = L.marker([48.52197, -123.02436], { icon: kfhr_airport_custom }).addTo(Map);
            kfhr_airport.bindPopup(
                '<br>Friday Harbor Airport (KFHR)</br><br>' +
                'IATA CODE: FHR<br>' +
                'ICAO CODE: KFHR<br>' +
                'CITY: Washington, United States<br>' +
                'AIRPORT TYPE: Regional<br><br>' +
                'Latitude: 48.52197<br>' +
                'Longitude: -123.02436<br><br>'
            ).openPopup();

            kfhr_airport.on('click', function () {
                fetchMETAR("KFHR", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Friday Harbor Airport (KFHR)</b></p>' +
                    '<p><b>IATA CODE:</b> FHR</p>' +
                    '<p><b>ICAO CODE:</b> KFHR</p>' +
                    '<p><b>City:</b> Washington, United States</p>' +
                    '<p><b>Airport Type:</b> Regional</p>' +
                    '<p><b>Latitude:</b> 48.52197</p>' +
                    '<p><b>Longitude:</b> -123.02436</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kfhr" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KFHR CTAF</a>';

                updateSidebar(sidebarContent);
            });
        });



            var rjtt_airport_custom = L.divIcon({
                className: 'rjtt_custom-marker',
                html: '<div class="icon-content">üóºRJTT</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var rjtt_airport_custom_style = document.createElement('style');
            rjtt_airport_custom_style.innerHTML = '.rjtt_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(rjtt_airport_custom_style);

            var rjtt_airport = L.marker([35.55569, 139.77974], { icon: rjtt_airport_custom }).addTo(Map);
            rjtt_airport.bindPopup(
                '<br>Tokyo Haneda International Airport (RJTT)</br><br>' +
                'IATA CODE: JTT<br>' +
                'ICAO CODE: RJTT<br>' +
                'CITY: Tokyo, Japan<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 35.55569<br>' +
                'Longitude: 139.77974<br><br>'
            ).openPopup();

            rjtt_airport.on('click', function () {
                fetchMETAR("RJTT", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Tokyo Haneda International Airport (RJTT)</b></p>' +
                    '<p><b>IATA CODE:</b> JTT</p>' +
                    '<p><b>ICAO CODE:</b> RJTT</p>' +
                    '<p><b>City:</b> Tokyo, Japan</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 35.55569</p>' +
                    '<p><b>Longitude:</b> 139.77974</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?icao=rjtt&mount=rjtt_control" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN RJTT TOKYO CONTROL</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=rjtt_app&icao=rjtt" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN RJTT APPROACH</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?icao=rjtt&mount=rjtt_twr" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN RJTT TOWER/TCA</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?icao=rjtt&mount=rjtt_atis" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN RJTT ATIS</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?icao=rjtt&mount=rjtt_twr_tca" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN RJTT DEL/TOWER/TCA/GROUND</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=rjtt2" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN RJTT COMPANY CHANNELS</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?icao=rjtt&mount=rjtt_app_dep" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN RJTT APPROACH/DEPARTURE</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?icao=rjtt&mount=rjtt_dep" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN RJTT DEPARTURE</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?icao=rjtt&mount=rjtt_gnd" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN RJTT DEL/GROUND</a>';

                updateSidebar(sidebarContent);
            });
        });


            var rckh_airport_custom = L.divIcon({
                className: 'rckh_custom-marker',
                html: '<div class="icon-content">üóºRCKH</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var rckh_airport_custom_style = document.createElement('style');
            rckh_airport_custom_style.innerHTML = '.rckh_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(rckh_airport_custom_style);

            var rckh_airport = L.marker([22.5771, 120.35], { icon: rckh_airport_custom }).addTo(Map);
            rckh_airport.bindPopup(
                '<br>Kaohsiung International Airport (RCKH)</br><br>' +
                'IATA CODE: CKH<br>' +
                'ICAO CODE: RCKH<br>' +
                'CITY: Takao, Taiwan<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 22.5771<br>' +
                'Longitude: 120.35<br><br>'
            ).openPopup();

            rckh_airport.on('click', function () {
                fetchMETAR("RCKH", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Friday Harbor Airport (RCKH)</b></p>' +
                    '<p><b>IATA CODE:</b> CKH</p>' +
                    '<p><b>ICAO CODE:</b> RCKH</p>' +
                    '<p><b>City:</b> Takao, Taiwan</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 22.5771</p>' +
                    '<p><b>Longitude:</b> 120.35</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=rckh_app" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN RCKH APPROACH</a>';

                updateSidebar(sidebarContent);
            });
        });


            var lppt_airport_custom = L.divIcon({
                className: 'lppt_custom-marker',
                html: '<div class="icon-content">üóºLPPT</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var lppt_airport_custom_style = document.createElement('style');
            lppt_airport_custom_style.innerHTML = '.lppt_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(lppt_airport_custom_style);

            var lppt_airport = L.marker([38.7813, -9.13592], { icon: lppt_airport_custom }).addTo(Map);
            lppt_airport.bindPopup(
                '<br>Humberto Delgado Airport (Lisbon Portela Airport) (LPPT)</br><br>' +
                'IATA CODE: PPT<br>' +
                'ICAO CODE: LPPT<br>' +
                'CITY: Lisbon, Portugal<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 38.7813<br>' +
                'Longitude: -9.13592<br><br>'
            ).openPopup();

            lppt_airport.on('click', function () {
                fetchMETAR("LPPT", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Humberto Delgado Airport (Lisbon Portela Airport) (LPPT)</b></p>' +
                    '<p><b>IATA CODE:</b> PPT</p>' +
                    '<p><b>ICAO CODE:</b> LPPT</p>' +
                    '<p><b>City:</b> Lisbon, Portugal</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 38.7813</p>' +
                    '<p><b>Longitude:</b> -9.13592</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=lppt_app&icao=lppt" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN LPPT APPROACH</a>';

                updateSidebar(sidebarContent);
            });
        });


            var ksfo_airport_custom = L.divIcon({
                className: 'ksfo_custom-marker',
                html: '<div class="icon-content">üóºKSFO</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var ksfo_airport_custom_style = document.createElement('style');
            ksfo_airport_custom_style.innerHTML = '.ksfo_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(ksfo_airport_custom_style);

            var ksfo_airport = L.marker([37.61881, -122.37542], { icon: ksfo_airport_custom }).addTo(Map);
            ksfo_airport.bindPopup(
                '<br>San Francisco International Airport (KSFO)</br><br>' +
                'IATA CODE: SFO<br>' +
                'ICAO CODE: KSFO<br>' +
                'CITY: California, United States<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 37.61881<br>' +
                'Longitude: -122.37542<br><br>'
            ).openPopup();

            ksfo_airport.on('click', function () {
                fetchMETAR("KSFO", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>San Francisco International Airport (KSFO)</b></p>' +
                    '<p><b>IATA CODE:</b> SFO</p>' +
                    '<p><b>ICAO CODE:</b> KSFO</p>' +
                    '<p><b>City:</b> California, United States</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 37.61881</p>' +
                    '<p><b>Longitude:</b> -122.37542</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ksfo_twr&icao=ksfo" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KSFO TOWER</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ksfo_co&icao=ksfo" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KSFO COMPANY CHANNELS</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ksfo_gnd_twr&icao=ksfo" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KSFO GROUND/TOWER</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?icao=ksfo&mount=ksfo_gnd" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KSFO GROUND</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ksfo_twr2" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KSFO GROUND/TOWER #2</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ksfo_app2_l&icao=ksfo" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KSFO NORCAL APPROACH 28L/R</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ksfo_app2_r&icao=ksfo" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KSFO NORCAL BSR2/MOD2 ARRIVALS</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=koak_dep&icao=ksfo" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KFSO NORCAL DEPARTURE (KSFO/KOAK)</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ksfo_atis&icao=ksfo" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KSFO DEPARTURE-ATIS</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ksfo_dep2&icao=ksfo" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KSFO DEPARTURE 135.1</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=ksfo_dep1&icao=ksfo" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì°LISTEN KFSO DEPARTURE 120.9/127.0</a>';

                updateSidebar(sidebarContent);
            });
        });


            var kmhr_airport_custom = L.divIcon({
                className: 'kmhr_custom-marker',
                html: '<div class="icon-content">üóºKHMR</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kmhr_airport_custom_style = document.createElement('style');
            kmhr_airport_custom_style.innerHTML = '.kmhr_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kmhr_airport_custom_style);

            var kmhr_airport = L.marker([38.55531, -121.29721], { icon: kmhr_airport_custom }).addTo(Map);
            kmhr_airport.bindPopup(
                '<br>Sacramento Mather Airport (KHMR)</br><br>' +
                'IATA CODE: HMR<br>' +
                'ICAO CODE: KHMR<br>' +
                'CITY: California, United States<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 38.55531<br>' +
                'Longitude: -121.29721<br><br>'
            ).openPopup();

            kmhr_airport.on('click', function () {
                fetchMETAR("KMHR", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Sacramento Mather Airport (KHMR)</b></p>' +
                    '<p><b>IATA CODE:</b> HMR</p>' +
                    '<p><b>ICAO CODE:</b> KHMR</p>' +
                    '<p><b>City:</b> California, United States</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 38.55531</p>' +
                    '<p><b>Longitude:</b> -121.29721</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kmhr_norcal&icao=kmhr" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KMHR NORCAL APP (EXPO/127.4)</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kmhr" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KMHR GROUND/TOWER</a>';

                updateSidebar(sidebarContent);
            });
        });

            var kaun_airport_custom = L.divIcon({
                className: 'kaun_custom-marker',
                html: '<div class="icon-content">üóºKAUN</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var kaun_airport_custom_style = document.createElement('style');
            kaun_airport_custom_style.innerHTML = '.kaun_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(kaun_airport_custom_style);

            var kaun_airport = L.marker([38.95483, -121.08172], { icon: kaun_airport_custom }).addTo(Map);
            kaun_airport.bindPopup(
                '<br>Auburn Municipal Airport (KAUN)</br><br>' +
                'IATA CODE: AUN<br>' +
                'ICAO CODE: KAUN<br>' +
                'CITY: California, United States<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 38.95483<br>' +
                'Longitude: -121.08172<br><br>'
            ).openPopup();

            kaun_airport.on('click', function () {
                fetchMETAR("KAUN", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Auburn Municipal Airport (KAUN)</b></p>' +
                    '<p><b>IATA CODE:</b> AUN</p>' +
                    '<p><b>ICAO CODE:</b> KAUN</p>' +
                    '<p><b>City:</b> California, United States</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 38.95483</p>' +
                    '<p><b>Longitude:</b> -121.08172</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kaun3_test" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KAUN NORCAL APPROACH (Elk Horn)</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=kaun2_test" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KAUN APPROACH (Expo)</a>';

                updateSidebar(sidebarContent);
            });
        });



            var klas_airport_custom = L.divIcon({
                className: 'klas_custom-marker',
                html: '<div class="icon-content">üóºKLAS</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var klas_airport_custom_style = document.createElement('style');
            klas_airport_custom_style.innerHTML = '.klas_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(klas_airport_custom_style);

            var klas_airport = L.marker([36.08004, -115.15223], { icon: klas_airport_custom }).addTo(Map);
            klas_airport.bindPopup(
                '<br>Harry Reid International Airport (KLAS)</br><br>' +
                'IATA CODE: LAS<br>' +
                'ICAO CODE: KLAS<br>' +
                'CITY: Las Vegas, Nevada<br>' +
                'AIRPORT TYPE: International<br><br>' +
                'Latitude: 36.08004<br>' +
                'Longitude: -115.15223<br><br>'
            ).openPopup();

            klas_airport.on('click', function () {
                fetchMETAR("KLAS", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Harry Reid International Airport (KLAS)</b></p>' +
                    '<p><b>IATA CODE:</b> LAS</p>' +
                    '<p><b>ICAO CODE:</b> KLAS</p>' +
                    '<p><b>City:</b> Las Vegas, Nevada</p>' +
                    '<p><b>Airport Type:</b> International</p>' +
                    '<p><b>Latitude:</b> 36.08004</p>' +
                    '<p><b>Longitude:</b> -115.15223</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=klas_twr1" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KLAS TOWER #1</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=klas4_twr_0119&icao=klas" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KLAS TOWER (Rwys 01/19)</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=klas4_twr_0826&icao=klas" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KLAS TOWER (Rwys 08/26)</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=klas4_twr&icao=klas" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KLAS TOWER #4 (Both)</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=klas4_app_se" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KLAS APPROACH (SE)</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=klas_app1" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KLAS APPROACH/DEPARTURE #1</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=klas5_dep_0108&icao=klas" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KLAS DEPARTURE (Rwys 01/18)</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=klas4_app_ne" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KLAS APPROACH (NE)</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=klas4_app_vfr" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KLAS APPROACH (VFR)</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=klas5_app_final" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KLAS FINAL APPROACH</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=klas4_gnd" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KLAS FINAL GROUND (East/Weast)</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=klas5_atis&icao=klas" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KLAS ATIS</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=klas4_zla16" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KLAS SECTOR 16 (Low/High)</a>' +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=klas5_zla34&icao=klas" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN KLAS ZLA SECTOR 34 (High)</a>';

                updateSidebar(sidebarContent);
            });
        });



            var lfrn_airport_custom = L.divIcon({
                className: 'lfrn_custom-marker',
                html: '<div class="icon-content">üóºLFRN</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var lfrn_airport_custom_style = document.createElement('style');
            lfrn_airport_custom_style.innerHTML = '.lfrn_custom-marker .icon-content { background-color: #E82900; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(lfrn_airport_custom_style);

            var lfrn_airport = L.marker([48.07194, -1.73222], { icon: lfrn_airport_custom }).addTo(Map);
            lfrn_airport.bindPopup(
                '<br>Rennes Saint-Jacques A√©roport (LFRN)</br><br>' +
                'IATA CODE: RNS<br>' +
                'ICAO CODE: LFRN<br>' +
                'CITY: Ille-et-Vilaine, Brittany, France<br>' +
                'AIRPORT TYPE: Regional<br><br>' +
                'Latitude: 48.07194<br>' +
                'Longitude: -1.73222<br><br>'
            ).openPopup();

            lfrn_airport.on('click', function () {
                fetchMETAR("LFRN", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Rennes Saint-Jacques A√©roport (LFRN)</b></p>' +
                    '<p><b>IATA CODE:</b> RNS</p>' +
                    '<p><b>ICAO CODE:</b> LFRN</p>' +
                    '<p><b>City:</b> Ille-et-Vilaine, Brittany, France</p>' +
                    '<p><b>Airport Type:</b> Regional</p>' +
                    '<p><b>Latitude:</b> 48.07194</p>' +
                    '<p><b>Longitude:</b> -1.73222</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/search/?icao=2770" target="_blank" ' +
                    'style="padding: 2px; background-color: #E0340F; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'NO LISTENING FOUND</a>';

                updateSidebar(sidebarContent);
            });
        });



            var lfot_airport_custom = L.divIcon({
                className: 'lfot_custom-marker',
                html: '<div class="icon-content">üóºLFOT</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var lfot_airport_custom_style = document.createElement('style');
            lfot_airport_custom_style.innerHTML = '.lfot_custom-marker .icon-content { background-color: #E82900; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(lfot_airport_custom_style);

            var lfot_airport = L.marker([47.4322, 0.72761], { icon: lfot_airport_custom }).addTo(Map);
            lfot_airport.bindPopup(
                '<br>Tours-Val-de-Loire Airport (LFOT)</br><br>' +
                'IATA CODE: TUF<br>' +
                'ICAO CODE: LFOT<br>' +
                'CITY: Indre-et-Loire, Centre, France<br>' +
                'AIRPORT TYPE: Regional<br><br>' +
                'Latitude: 47.4322<br>' +
                'Longitude: 0.72761<br><br>'
            ).openPopup();

            lfot_airport.on('click', function () {
                fetchMETAR("LFOT", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Tours-Val-de-Loire Airport (LFOT)</b></p>' +
                    '<p><b>IATA CODE:</b> TUF</p>' +
                    '<p><b>ICAO CODE:</b> LFOT</p>' +
                    '<p><b>City:</b> Indre-et-Loire, Centre, France</p>' +
                    '<p><b>Airport Type:</b> Regional</p>' +
                    '<p><b>Latitude:</b> 47.4322</p>' +
                    '<p><b>Longitude:</b> 0.72761</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/search/?icao=2770" target="_blank" ' +
                    'style="padding: 2px; background-color: #E0340F; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'NO LISTENING FOUND</a>';

                updateSidebar(sidebarContent);
            });
        });


            var lpaz_airport_custom = L.divIcon({
                className: 'lpaz_custom-marker',
                html: '<div class="icon-content">üóºLPAZ</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var lpaz_airport_custom_style = document.createElement('style');
            lpaz_airport_custom_style.innerHTML = '.lpaz_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(lpaz_airport_custom_style);

            var lpaz_airport = L.marker([36.9714, -25.1706], { icon: lpaz_airport_custom }).addTo(Map);
            lpaz_airport.bindPopup(
                '<br>Santa Maria Airport (LPAZ)</br><br>' +
                'IATA CODE: SMA<br>' +
                'ICAO CODE: LPAZ<br>' +
                'CITY: Santa Maria, Portugal<br>' +
                'AIRPORT TYPE: Regional<br><br>' +
                'Latitude: 36.9714<br>' +
                'Longitude: -25.1706<br><br>'
            ).openPopup();

            lpaz_airport.on('click', function () {
                fetchMETAR("LPAZ", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Santa Maria Airport (LPAZ)</b></p>' +
                    '<p><b>IATA CODE:</b> SMA</p>' +
                    '<p><b>ICAO CODE:</b> LPAZ</p>' +
                    '<p><b>City:</b> Santa Maria, Portugal</p>' +
                    '<p><b>Airport Type:</b> Regional</p>' +
                    '<p><b>Latitude:</b> 36.9714</p>' +
                    '<p><b>Longitude:</b> -25.1706</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=lpaz1" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN LPAZ CONTROL (SANTA-MARIA-OCEANIC-CONTROL)</a>';

                updateSidebar(sidebarContent);
            });
        });


            var k2g9_airport_custom = L.divIcon({
                className: 'k2g9_custom-marker',
                html: '<div class="icon-content">üóºK2G9</div>',
                iconSize: [50, 50],
                iconAnchor: [25, 25],
            });

            var k2g9_airport_custom_style = document.createElement('style');
            k2g9_airport_custom_style.innerHTML = '.k2g9_custom-marker .icon-content { background-color: #1d96f3; padding: 1px; border-radius: 4%; }';
            document.head.appendChild(k2g9_airport_custom_style);

            var k2g9_airport = L.marker([40.0385, -79.0153], { icon: k2g9_airport_custom }).addTo(Map);
            k2g9_airport.bindPopup(
                '<br><strong>Somerset County Airport (K2G9)</strong></br><br>' +
                'IATA CODE: 2G9<br>' +
                'ICAO CODE: K2G9<br>' +
                'CITY: Pennsylvania, United States<br>' +
                'AIRPORT TYPE: Regional<br><br>' +
                'Latitude: 40.0385<br>' +
                'Longitude: -79.0153<br><br>'
            ).openPopup();

            k2g9_airport.on('click', function () {
                fetchMETAR("K2G9", function (metarData) {
                let metarText = metarData.error ? metarData.error : metarData.raw || "NO METAR FETCH";
                var sidebarContent =
                    '<div class="blue-background">' +
                    '<p><b>Somerset County Airport (K2G9)</b></p>' +
                    '<p><b>IATA CODE:</b> 2G9</p>' +
                    '<p><b>ICAO CODE:</b> K2G9</p>' +
                    '<p><b>City:</b> Pennsylvania, United States</p>' +
                    '<p><b>Airport Type:</b> Regional</p>' +
                    '<p><b>Latitude:</b> 40.0385</p>' +
                    '<p><b>Longitude:</b> -79.0153</p>' +
                    '<br>' +
                    `<p>${metarText}</p>` +
                    '<br>' +
                    '<a href="https://www.liveatc.net/hlisten.php?mount=2g9_zob&icao=2g9" target="_blank" ' +
                    'style="padding: 2px; background-color: #5B9F22; color: #ffffff; ' +
                    'text-decoration: none; border-radius: 1px; display: inline-block; margin-top: 5px;">' +
                    'üì° LISTEN K2G9 ZOB SECTOR 67</a>';

                updateSidebar(sidebarContent);
            });
        });
        }

        function placeMarkerOnMap() {
    // Ajoute un gestionnaire d'√©v√©nement de clic sur la carte
            var markerText = prompt("Entrez le texte pour le marqueur :", "MARQUEUR 1");

    // Si l'utilisateur annule la saisie, ne rien faire
            if (markerText === null) {
                return;
            }

    // Ajouter un gestionnaire d'√©v√©nement de clic sur la carte
            Map.once('click', function(e) {
        // Cr√©er un nouveau marqueur avec le texte personnalis√©
                var newMarker = L.marker(e.latlng).addTo(Map);

        // Ajouter le texte personnalis√© au popup du marqueur
                newMarker.bindPopup("Latitude: " + e.latlng.lat.toFixed(6) + "<br>Longitude: " + e.latlng.lng.toFixed(6) +
                    "<br>" + markerText +
                    "<br><button onclick='removeMarker(" + newMarker._leaflet_id + ")'>Supprimer</button>" +
                    "<button onclick='editMarker(" + newMarker._leaflet_id + ")'>Modifier</button>").openPopup();

        // Ajouter le texte du marqueur au-dessus du marqueur en tant que tooltip
                newMarker.bindTooltip("<strong>" + markerText + "</strong>", { permanent: true, direction: 'top' }).openTooltip();
            });
        }

        function removeMarker(markerId) {
            var marker = Map._layers[markerId];
            if (marker) {
                Map.removeLayer(marker);
            }
        }

        function editMarker(markerId) {
            var marker = Map._layers[markerId];
            if (marker) {
        // R√©cup√©rer le texte actuel du popup
                var currentText = marker.getPopup().getContent().split("<br>")[2];

        // Demander √† l'utilisateur de saisir le nouveau texte
                var newText = prompt("Modifier le texte du marqueur :", currentText);

        // Si l'utilisateur annule la saisie, ne rien faire
                if (newText !== null) {
            // Mettre √† jour le texte du popup
                    marker.getPopup().setContent("Latitude: " + marker.getLatLng().lat.toFixed(6) +
                        "<br>Longitude: " + marker.getLatLng().lng.toFixed(6) +
                        "<br>" + newText +
                        "<br><button onclick='removeMarker(" + marker._leaflet_id + ")'>Supprimer</button>" +
                        "<button onclick='editMarker(" + marker._leaflet_id + ")'>Modifier</button>");

            // Mettre √† jour le texte du tooltip
                    marker.setTooltipContent("<strong>" + newText + "</strong>");
                }
            }
        }

// Modifier le gestionnaire d'√©v√©nements onclick pour secondButton
        document.getElementById('secondButton').onclick = function () {
            placeMarkerOnMap();
        };

        function displayHello() {
            var selectedInfo = document.getElementById('selinfo');

    // V√©rifie s'il existe d√©j√† un bouton, et le supprime le cas √©ch√©ant
            var existingFirstButton = document.getElementById('firstButton');
            var existingSecondButton = document.getElementById('secondButton');
            var existingThirdButton = document.getElementById('thirdButton');

            if (existingFirstButton) {
                existingFirstButton.parentNode.removeChild(existingFirstButton);
            }

            if (existingSecondButton) {
                existingSecondButton.parentNode.removeChild(existingSecondButton);
            }

            if (existingThirdButton) {
                existingThirdButton.parentNode.removeChild(existingThirdButton);
                return; // Arr√™te la fonction ici pour √©viter de cr√©er de nouveaux boutons
            }

            var firstButton = document.createElement('button');
            firstButton.id = 'firstButton';
            firstButton.className = 'styledButton'; // Ajoute une classe CSS au bouton

            var imgElement = document.createElement('img');
            imgElement.src = 'assets/target2.png'; // Remplacez par le chemin de votre premi√®re image
            imgElement.alt = 'Image Button 1'; // Texte alternatif pour l'accessibilit√©

            imgElement.style.width = '18px';
            imgElement.style.height = '18px';

            firstButton.appendChild(imgElement);

            var crossElement;

            firstButton.onclick = function () {
    // V√©rifier si la croix est d√©j√† affich√©e
                if (crossElement) {
        // Supprimer l'√©l√©ment de croix s'il existe d√©j√†
                    document.body.removeChild(crossElement);
                    crossElement = null; // R√©initialiser la variable √† null
                } else {
        // Cr√©er un √©l√©ment div pour repr√©senter la croix
                    crossElement = document.createElement('div');
                    crossElement.className = 'cross';

        // Ajouter la croix √† la page
                    document.body.appendChild(crossElement);
                }
            };

    // Ajoute le premier bouton
            selectedInfo.appendChild(firstButton);

            selectedInfo.appendChild(document.createTextNode('\u00A0\u00A0'));

    // Cr√©e le deuxi√®me bouton
            var secondButton = document.createElement('button');
            secondButton.id = 'secondButton';
            secondButton.className = 'styledButton'; // Ajoute une classe CSS au bouton

    // Cr√©e l'√©l√©ment img avec la deuxi√®me image PNG et ajuste la taille
            var secondImgElement = document.createElement('img');
            secondImgElement.src = 'assets/point2.png'; // Remplacez par le chemin de votre deuxi√®me image
            secondImgElement.alt = 'Image Button 2'; // Texte alternatif pour l'accessibilit√©

    // Ajuste la taille de la deuxi√®me image (par exemple, largeur = 50 pixels, hauteur = 50 pixels)
            secondImgElement.style.width = '18px';
            secondImgElement.style.height = '18px';

            secondButton.appendChild(secondImgElement);

            secondButton.onclick = function () {
                placeMarkerOnMap();
            };

    // Ajoute le deuxi√®me bouton
            selectedInfo.appendChild(secondButton);

            selectedInfo.appendChild(document.createTextNode('\u00A0\u00A0'));

            var thirdButton = document.createElement('button');
            thirdButton.id = 'thirdButton';
            thirdButton.className = 'styledButton'; // Ajoute une classe CSS au bouton

    // Cr√©e l'√©l√©ment img avec la troisi√®me image PNG et ajuste la taille
            var thirdImgElement = document.createElement('img');
            thirdImgElement.src = 'assets/rect.png'; // Remplacez par le chemin de votre troisi√®me image
            thirdImgElement.alt = 'Image Button 3'; // Texte alternatif pour l'accessibilit√©

    // Ajuste la taille de la troisi√®me image (par exemple, largeur = 18 pixels, hauteur = 18 pixels)
            thirdImgElement.style.width = '18px';
            thirdImgElement.style.height = '18px';

            thirdButton.appendChild(thirdImgElement);

            thirdButton.onclick = function () {
        // Ajoutez ici le code pour la fonctionnalit√© du troisi√®me bouton
                enableRectangleDrawing();
            };

            selectedInfo.appendChild(thirdButton);

        }

        function enableRectangleDrawing() {
            // Activer le mode de dessin rectangulaire avec Leaflet.draw
            var drawnItems = new L.FeatureGroup();
            Map.addLayer(drawnItems);

            var drawControl = new L.Control.Draw({
                edit: {
                    featureGroup: drawnItems,
                    remove: true
                },
                draw: {
                    rectangle: true,
                    polyline: true,
                    polygon: true,
                    circle: true,
                    marker: false
                }
            });

            Map.addControl(drawControl);

            Map.on('draw:created', function (event) {
                var layer = event.layer;
                drawnItems.addLayer(layer);

                // Vous pouvez acc√©der aux coordonn√©es du rectangle s√©lectionn√© ici
                var rectangleBounds = layer.getBounds();
                console.log('Rectangle Bounds:', rectangleBounds);
            });

            Map.hasDrawControl = true;

            thirdButton.onclick = function () {
                Map.hasDrawControl = false;
                Map.removeControl(drawControl);
                thirdButton.onclick = enableRectangleDrawing; // R√©activer le mode de dessin en cliquant sur le bouton
            };
        }

        function clearSidebar() {
            updateSidebar('');
        }

        function updateSidebar(content) {
            var selectedInfo = document.getElementById('selinfo');
            selectedInfo.innerHTML = content;
        }

        function updateSidebar(content) {
            var selectedInfo = document.getElementById('selinfo');
            selectedInfo.innerHTML = content;
        }

        

        function updateActivationStatus() {
            var statusText = document.getElementById('activationStatus');
            statusText.innerText = activationStatus ? 'ON' : 'OFF';
            statusText.style.color = activationStatus ? 'green' : 'red';
        }

//        function updateActivationStatus() {
//            var statusText = document.getElementById('activationStatus');
//            statusText.innerText = activationStatus ? 'ENABLED' : 'DISABLED';
//            statusText.style.color = activationStatus ? 'green' : 'red';
//        }

        function areas_infs() {
            currentView = {
                lat: Map.getCenter().lat,
                lon: Map.getCenter().lng,
                zoom: Map.getZoom()
            };

            Map.setView([currentView.lat, currentView.lon], currentView.zoom);
            Map.removeLayer(googleMapsLayer);
            openStreetMapLayer.addTo(Map);
        }

        function sat_vw() {
            currentView = {
                lat: Map.getCenter().lat,
                lon: Map.getCenter().lng,
                zoom: Map.getZoom()
            };

            Map.setView([currentView.lat, currentView.lon], currentView.zoom);
            Map.removeLayer(cyc_openStreetMapLayer);
            googleMapsLayer.addTo(Map);
        }

        function cyc_view() {
            currentView = {
                lat: Map.getCenter().lat,
                lon: Map.getCenter().lng,
                zoom: Map.getZoom()
            };

            Map.setView([currentView.lat, currentView.lon], currentView.zoom);
            Map.removeLayer(openStreetMapLayer);
            Map.removeLayer(googleMapsLayer);
            Map.removeLayer(hum_transparentLayer);
            cyc_openStreetMapLayer.addTo(Map);
        }
        function hum_view() {
            currentView = {
                lat: Map.getCenter().lat,
                lon: Map.getCenter().lng,
                zoom: Map.getZoom()
            };

            Map.setView([currentView.lat, currentView.lon], currentView.zoom);
            Map.removeLayer(openStreetMapLayer);
            Map.removeLayer(googleMapsLayer);
            Map.removeLayer(cyc_openStreetMapLayer);
            hum_openStreetMapLayer.addTo(Map);
        }

        function opac_filter() {
            activationStatus = !activationStatus;
            updateActivationStatus();

            if (Map.hasLayer(cyc_transparentLayer, street_transparentLayer, hum_transparentLayer)) {
                street_transparentLayer.remove()
                cyc_transparentLayer.remove();
                hum_transparentLayer.remove();
                googleMapsLayer.setOpacity(1);
            } else {
                street_transparentLayer.addTo(Map);
                cyc_transparentLayer.addTo(Map);
//                hum_transparentLayer.addTo(Map);
                googleMapsLayer.setOpacity(0.3);
            }
        }
    </script>
</head>

<style>
    #coordsInfo {
        bottom: -5px;
        left: 10%;
        background-color: #212d38; /* Couleur de fond pour les coordonn√©es */
        padding: -5px;
    }
</style>

<body onload="initialize()">
    <div id="map_canvas" style="width:80%; height:100%"></div>
    <div id="info">
        <div>
            <h1 style="display: inline-block;">
                <img src="eagle1.png"
                     style="width: 70px; height: 40px; top: 5px; left: 5px;" />
            </h1>
            <div id="testContainer">
                <button id="toggleCoordsButton" onclick="toggleCoords()">CORDS</button>
                <p id="testText"></p>
                <button id="testButton" onclick="areas_infs()">INFOS</button>
                <button id="testButton2" onclick="sat_vw()">SAT</button>
                <button id="superpose" onclick="opac_filter()">SUPERPOSE</button>
                <button id="cycview" onclick="cyc_view()">CYC</button>
                <button id="humview" onclick="hum_view()">HUM</button>
                <button id="clearButton" onclick="clearSidebar()">CLEAR</button>
                <span id="activationStatus"></span>
            </div>
            <p id="geninfo"></p>
            <p id="selinfo">Click on aircraft for infos.</p>

            <div id="coordsInfo" style="display: none;">
                <p><b>Latitude:</b> <span id="latitude"></span></p>
                <p><b>Longitude:</b> <span id="longitude"></span></p>
            </div>
        </div>
    </div>
</body>

</html>
